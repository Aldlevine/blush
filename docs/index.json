[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/builtins/alias.js",
    "content": "const Builtin = require('./builtin');\n\nconst aliases = {};\n\nexports.alias = class Alias extends Builtin\n{\n  constructor (name, args, ctx)\n  {\n    super(name, args, ctx);\n    let exitCode = 0;\n\n    if (args.length == 0) {\n      for (let name in aliases) {\n        this.stdout.write(`${name}='${aliases[name]}'\\n`);\n      }\n    }\n    else {\n      for (let arg of args) {\n        let [name, ...value] = arg.split('=');\n        value = value.join('=');\n\n        if (value.length == 0) {\n          value = exports.alias.getAlias(name);\n          if (value) { this.stdout.write(`${name}='${value}'\\n`) }\n          else { exitCode = 1 }\n        }\n\n        else { exports.alias.createAlias(name, value) }\n      }\n    }\n\n    process.nextTick(() => this.emit('exit', exitCode));\n  }\n\n  static createAlias (name, value)\n  {\n    aliases[name] = value;\n  }\n\n  static getAlias (name)\n  {\n    return aliases[name];\n  }\n\n  static removeAlias (name)\n  {\n    if (!(name in aliases)) { return false }\n    delete aliases[name];\n    return true;\n  }\n}\n\n\nexports.unalias = class Unalias extends Builtin\n{\n  constructor (name, args, opts)\n  {\n    super(name, args, opts);\n    let exitCode = 0;\n\n    if (args.length == 0) {\n      this.stderr.write(`unalias: not enough arguments\\n`);\n      exitCode = 1;\n    }\n    else {\n      for (let arg of args) {\n        if (!exports.alias.removeAlias(arg)) {\n          this.stderr.write(`unalias: no such alias ${arg}\\n`);\n          exitCode = 1;\n        }\n      }\n    }\n\n    process.nextTick(() => this.emit('exit', exitCode));\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/alias.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/alias.js",
    "static": true,
    "longname": "src/builtins/alias.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/alias.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 50,
    "kind": "variable",
    "name": "aliases",
    "memberof": "src/builtins/alias.js",
    "static": true,
    "longname": "src/builtins/alias.js~aliases",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/alias.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 51,
    "kind": "class",
    "name": "alias",
    "memberof": "src/builtins/alias.js",
    "static": true,
    "longname": "src/builtins/alias.js~alias",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/alias.js",
    "importStyle": "{alias}",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 52,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/alias.js~alias",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/alias.js~alias#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 53,
    "kind": "method",
    "name": "createAlias",
    "memberof": "src/builtins/alias.js~alias",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/builtins/alias.js~alias.createAlias",
    "access": "public",
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      },
      {
        "name": "value",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 54,
    "kind": "method",
    "name": "getAlias",
    "memberof": "src/builtins/alias.js~alias",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/builtins/alias.js~alias.getAlias",
    "access": "public",
    "description": null,
    "lineNumber": 40,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 55,
    "kind": "method",
    "name": "removeAlias",
    "memberof": "src/builtins/alias.js~alias",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/builtins/alias.js~alias.removeAlias",
    "access": "public",
    "description": null,
    "lineNumber": 45,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 56,
    "kind": "class",
    "name": "unalias",
    "memberof": "src/builtins/alias.js",
    "static": true,
    "longname": "src/builtins/alias.js~unalias",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/alias.js",
    "importStyle": "{unalias}",
    "description": null,
    "lineNumber": 54,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 57,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/alias.js~unalias",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/alias.js~unalias#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 56,
    "undocument": true
  },
  {
    "__docId__": 58,
    "kind": "file",
    "name": "src/builtins/builtin.js",
    "content": "const IO = require('../io');\nconst EventEmitter = require('events');\nconst {PassThrough} = require('stream');\n\nmodule.exports = class Builtin extends EventEmitter\n{\n  constructor (name, args, ctx)\n  {\n    super();\n    Object.assign(this, {\n      cwd: process.cwd(),\n      env: process.env,\n      stdio: new IO,\n    }, ctx.clone());\n\n    this.stdin = this.stdio[0] =\n    this.stdio[0] == 'pipe' ? new PassThrough() : this.stdio[0];\n\n    this.stdout = this.stdio[1] =\n    this.stdio[1] == 'pipe' ? new PassThrough() : this.stdio[1];\n\n    this.stderr = this.stdio[2] =\n    this.stdio[2] == 'pipe' ? new PassThrough() : this.stdio[2];\n\n    setTimeout(() => this.exit(1), 0);\n  }\n\n  exit (result)\n  {\n    this.stdout && !this.stdout.isTTY && this.stdout.end();\n    this.stderr && !this.stderr.isTTY && this.stderr.end();\n    process.nextTick(() => this.emit('exit', result));\n  }\n\n  error (err)\n  {\n    this.stdout && !this.stdout.isTTY && this.stdout.end();\n    this.stderr && !this.stderr.isTTY && this.stderr.end();\n    process.nextTick(() => this.emit('error', err));\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/builtin.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 59,
    "kind": "variable",
    "name": "IO",
    "memberof": "src/builtins/builtin.js",
    "static": true,
    "longname": "src/builtins/builtin.js~IO",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/builtin.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 60,
    "kind": "variable",
    "name": "EventEmitter",
    "memberof": "src/builtins/builtin.js",
    "static": true,
    "longname": "src/builtins/builtin.js~EventEmitter",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/builtin.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 61,
    "kind": "variable",
    "name": "PassThrough",
    "memberof": "src/builtins/builtin.js",
    "static": true,
    "longname": "src/builtins/builtin.js~PassThrough",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/builtin.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 62,
    "kind": "class",
    "name": "Builtin",
    "memberof": "src/builtins/builtin.js",
    "static": true,
    "longname": "src/builtins/builtin.js~Builtin",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/builtin.js",
    "importStyle": "Builtin",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false,
    "extends": [
      "EventEmitter"
    ]
  },
  {
    "__docId__": 63,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/builtin.js~Builtin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 64,
    "kind": "member",
    "name": "stdin",
    "memberof": "src/builtins/builtin.js~Builtin",
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#stdin",
    "access": "public",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 65,
    "kind": "member",
    "name": "stdout",
    "memberof": "src/builtins/builtin.js~Builtin",
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#stdout",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 66,
    "kind": "member",
    "name": "stderr",
    "memberof": "src/builtins/builtin.js~Builtin",
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#stderr",
    "access": "public",
    "description": null,
    "lineNumber": 22,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 67,
    "kind": "method",
    "name": "exit",
    "memberof": "src/builtins/builtin.js~Builtin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#exit",
    "access": "public",
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "params": [
      {
        "name": "result",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 68,
    "kind": "method",
    "name": "error",
    "memberof": "src/builtins/builtin.js~Builtin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#error",
    "access": "public",
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "params": [
      {
        "name": "err",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 69,
    "kind": "file",
    "name": "src/builtins/chalk.js",
    "content": "const Builtin = require('./builtin');\n\nmodule.exports = class Chalk extends Builtin\n{\n  constructor (name, args, ctx)\n  {\n    super(name, args, ctx);\n\n    const vm = require('vm');\n    const chalk = require('chalk');\n\n    const sandbox = {chalk};\n    vm.createContext(sandbox);\n    const result = vm.runInContext('chalk`'+args.join(' ')+'\\n`', sandbox);\n\n    this.stdout.write(result);\n    this.exit(0);\n  }\n}\n\n\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/chalk.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 70,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/chalk.js",
    "static": true,
    "longname": "src/builtins/chalk.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/chalk.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 71,
    "kind": "class",
    "name": "Chalk",
    "memberof": "src/builtins/chalk.js",
    "static": true,
    "longname": "src/builtins/chalk.js~Chalk",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/chalk.js",
    "importStyle": "Chalk",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 72,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/chalk.js~Chalk",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/chalk.js~Chalk#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 73,
    "kind": "file",
    "name": "src/builtins/eval.js",
    "content": "const Builtin = require('./builtin');\nconst parse = require('../parse');\n\nmodule.exports = class Eval extends Builtin\n{\n  constructor (name, args, ctx)\n  {\n    const {run} = require('../run');\n    const exec = require('../exec');\n\n    super(name, args, ctx);\n\n    if (args.length > 0) {\n      run(parse(args.join(' ')+'\\n'), ctx)\n      .then(() => { process.nextTick(() => this.emit('exit', 0)) })\n      .catch((err) => { throw err })\n    }\n    else {\n      process.nextTick(() => this.emit('exit', 0));\n    }\n  }\n}\n\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/eval.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 74,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/eval.js",
    "static": true,
    "longname": "src/builtins/eval.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 75,
    "kind": "variable",
    "name": "parse",
    "memberof": "src/builtins/eval.js",
    "static": true,
    "longname": "src/builtins/eval.js~parse",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 76,
    "kind": "class",
    "name": "Eval",
    "memberof": "src/builtins/eval.js",
    "static": true,
    "longname": "src/builtins/eval.js~Eval",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/eval.js",
    "importStyle": "Eval",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 77,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/eval.js~Eval",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/eval.js~Eval#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 78,
    "kind": "file",
    "name": "src/builtins/exit.js",
    "content": "const Builtin = require('./builtin');\n\nmodule.exports = class Exit extends Builtin\n{\n  constructor (name, args, ctx)\n  {\n    super(name, args, ctx);\n\n    if (args.length > 1) {\n      this.stdout.write('exit: too many arguments');\n    }\n    else {\n      const exitCode = args[0] || 0;\n      process.nextTick(() => process.exit(exitCode));\n    }\n  }\n}\n\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/exit.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 79,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/exit.js",
    "static": true,
    "longname": "src/builtins/exit.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/exit.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 80,
    "kind": "class",
    "name": "Exit",
    "memberof": "src/builtins/exit.js",
    "static": true,
    "longname": "src/builtins/exit.js~Exit",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/exit.js",
    "importStyle": "Exit",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 81,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/exit.js~Exit",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/exit.js~Exit#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 82,
    "kind": "file",
    "name": "src/builtins/export.js",
    "content": "const Builtin = require('./builtin');\nconst BlushError = require('../utils/error.js');\n\nmodule.exports = class Export extends Builtin\n{\n  constructor (name, args, ctx)\n  {\n    super(name, args, ctx);\n    if (args.length == 0) {\n      // TODO: show all exported values\n    }\n    else {\n      for (let arg of args) {\n        if (/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(arg)) {\n          ctx.exports.push(arg);\n        }\n        else if (/^[a-zA-Z_][a-zA-Z0-9_]*=$/.test(arg)) {\n          const name = arg.slice(0, -1);\n          delete ctx.env[name];\n          ctx.exports.push(name);\n        }\n        else if (/^[a-zA-Z_][a-zA-Z0-9_]*=[^=]+$/) {\n          const [name, value] = arg.split('=');\n          ctx.env[name] = value;\n          ctx.exports.push(name);\n        }\n        else {\n          throw new BlushError(`not valid in this context: ${arg}`, {\n            errno: 1,\n            source: 'exports',\n          });\n        }\n      }\n    }\n    process.nextTick(() => {\n      this.emit('exit', 0)\n    });\n  }\n}\n\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/export.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 83,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/export.js",
    "static": true,
    "longname": "src/builtins/export.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/export.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 84,
    "kind": "variable",
    "name": "BlushError",
    "memberof": "src/builtins/export.js",
    "static": true,
    "longname": "src/builtins/export.js~BlushError",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/export.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 85,
    "kind": "class",
    "name": "Export",
    "memberof": "src/builtins/export.js",
    "static": true,
    "longname": "src/builtins/export.js~Export",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/export.js",
    "importStyle": "Export",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 86,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/export.js~Export",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/export.js~Export#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 87,
    "kind": "file",
    "name": "src/builtins/javascript.js",
    "content": "const Builtin = require('./builtin');\nconst BlushError = require('../utils/error');\n\nmodule.exports = class Javascript extends Builtin\n{\n  constructor (name, args, ctx)\n  {\n    super(name, args, ctx);\n\n    const term = args.pop();\n    if (term !== ']') {\n      return this.exit(new BlushError(`command must be terminated with ']'`, {errno: 1, source: 'javascript'}))\n    }\n\n    const vm = require('vm');\n\n    let result;\n\n    try {\n      result = vm.runInNewContext(args.join(' '), {});\n    }\n    catch (vmerr) {\n      const err = new BlushError(vmerr.message);\n      err.stack = vmerr.stack;\n      err.source = '@[';\n      return this.error(err);\n    }\n\n    this.stdout.write(result+'\\n');\n    this.exit(0);\n  }\n}\n\n\n\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/javascript.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 88,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/javascript.js",
    "static": true,
    "longname": "src/builtins/javascript.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/javascript.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 89,
    "kind": "variable",
    "name": "BlushError",
    "memberof": "src/builtins/javascript.js",
    "static": true,
    "longname": "src/builtins/javascript.js~BlushError",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/javascript.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 90,
    "kind": "class",
    "name": "Javascript",
    "memberof": "src/builtins/javascript.js",
    "static": true,
    "longname": "src/builtins/javascript.js~Javascript",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/javascript.js",
    "importStyle": "Javascript",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 91,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/javascript.js~Javascript",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/javascript.js~Javascript#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 92,
    "kind": "file",
    "name": "src/builtins/pwd.js",
    "content": "const Builtin = require('./builtin');\nconst BlushError = require('../utils/error');\nconst fs = require('fs');\n\nmodule.exports = class Pwd extends Builtin\n{\n  constructor (name, args, ctx)\n  {\n    super(name, args, ctx);\n\n    let opts = {\n      logical: false,\n      physical: false,\n    }\n\n    for (let arg of args) {\n      switch (arg) {\n        case '-L':\n        case '--logical':\n          opts.logical = true;\n          break;\n        case '-P':\n        case '--physical':\n          opts.physical = true;\n          break;\n        default:\n          return this.error(new BlushError('bad option: '+arg), {errno: 1, source: 'pwd'})\n      }\n    }\n\n    if (opts.physical) {\n      this.stdout.write(fs.realpathSync(ctx.cwd)+'\\n');\n    }\n    else {\n      this.stdout.write(ctx.cwd+'\\n');\n    }\n\n    return this.exit(0);\n\n    // process.nextTick(() => process.exit(exitCode));\n  }\n}\n\n\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/pwd.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 93,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/pwd.js",
    "static": true,
    "longname": "src/builtins/pwd.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/pwd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 94,
    "kind": "variable",
    "name": "BlushError",
    "memberof": "src/builtins/pwd.js",
    "static": true,
    "longname": "src/builtins/pwd.js~BlushError",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/pwd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 95,
    "kind": "variable",
    "name": "fs",
    "memberof": "src/builtins/pwd.js",
    "static": true,
    "longname": "src/builtins/pwd.js~fs",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/pwd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 96,
    "kind": "class",
    "name": "Pwd",
    "memberof": "src/builtins/pwd.js",
    "static": true,
    "longname": "src/builtins/pwd.js~Pwd",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/pwd.js",
    "importStyle": "Pwd",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 97,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/pwd.js~Pwd",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/pwd.js~Pwd#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 98,
    "kind": "file",
    "name": "src/builtins/require.js",
    "content": "const Builtin = require('./builtin');\nconst path = require('path');\n\nmodule.exports = class Require extends Builtin\n{\n  constructor (name, args, ctx)\n  {\n    super(name, args, ctx);\n\n    if (args.length == 0) {\n      // show all required commands\n    }\n    else if (args.length == 2) {\n\n      const mod = new module.constructor('.');\n      mod.paths = [path.posix.resolve(ctx.cwd, '../node_modules')];\n\n      // TODO: This seems dangerous\n      let p = mod.paths[0];\n      while (p !== '/node_modules') {\n        p = path.posix.resolve(p, '../../node_modules');\n        mod.paths.push(p);\n      }\n\n      mod.filename = ctx.cwd+'/require.js';\n      const req = mod._compile('return require', ctx.cwd+'/require.js');\n      const builtinName = args[0];\n      const filename = args[1];\n      const filepath = req.resolve(filename);\n\n      delete req.cache[filepath];\n\n      try {\n        require('./index')[builtinName] = req(filepath);\n        this.exit(0);\n      }\n      catch (err) { this.error(err) }\n    }\n    else {\n      // incorrect arguments\n    }\n\n  }\n}\n\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/require.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 99,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/require.js",
    "static": true,
    "longname": "src/builtins/require.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/require.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 100,
    "kind": "variable",
    "name": "path",
    "memberof": "src/builtins/require.js",
    "static": true,
    "longname": "src/builtins/require.js~path",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/require.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 101,
    "kind": "class",
    "name": "Require",
    "memberof": "src/builtins/require.js",
    "static": true,
    "longname": "src/builtins/require.js~Require",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/require.js",
    "importStyle": "Require",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 102,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/require.js~Require",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/require.js~Require#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 103,
    "kind": "file",
    "name": "src/builtins/source.js",
    "content": "const Builtin = require('./builtin');\nconst parse = require('../parse');\nconst parseExitCode = require('../utils/parse-exit-code');\n\nmodule.exports = class Source extends Builtin\n{\n  constructor (name, args, ctx)\n  {\n    super(name, args, ctx);\n\n    const {run} = require('../run');\n\n    if (args.length == 0) {\n      this.stderr.write('source: not enough arguments\\n');\n      process.nextTick(() => this.emit('exit', 1));\n    }\n    else {\n      let ast = parse.file(args[0]);\n      run(ast, ctx)\n      .then(() => {\n        process.nextTick(() => this.emit('exit', 0));\n      }, (err) => {\n        process.nextTick(() => this.emit('error', err));\n      })\n    }\n\n  }\n}\n\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/source.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 104,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/source.js",
    "static": true,
    "longname": "src/builtins/source.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/source.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 105,
    "kind": "variable",
    "name": "parse",
    "memberof": "src/builtins/source.js",
    "static": true,
    "longname": "src/builtins/source.js~parse",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/source.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 106,
    "kind": "variable",
    "name": "parseExitCode",
    "memberof": "src/builtins/source.js",
    "static": true,
    "longname": "src/builtins/source.js~parseExitCode",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/source.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 107,
    "kind": "class",
    "name": "Source",
    "memberof": "src/builtins/source.js",
    "static": true,
    "longname": "src/builtins/source.js~Source",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/source.js",
    "importStyle": "Source",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 108,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/source.js~Source",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/source.js~Source#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 109,
    "kind": "file",
    "name": "src/builtins/which.js",
    "content": "const Builtin = require('./builtin');\nconst {alias} = require('./alias');\nconst glob = require('glob');\nconst path = require('path');\n\nmodule.exports = class Which extends Builtin\n{\n  constructor (name, args, ctx)\n  {\n    super(name, args, ctx);\n    const builtins = require('./index');\n    const cmdopts = {\n      all: false,\n      patterns: false,\n      path: false,\n      resolveSymlink: false,\n      commandType: false,\n    }\n    const commands = [];\n    const paths = process.env.PATH.split(path.delimiter);\n    let exitCode = 0;\n\n    for (let arg of args) {\n      switch (arg) {\n        case '-a': cmdopts.all = true; break;\n        case '-m': cmdopts.patterns = true; break;\n        case '-p': cmdopts.path = true; break;\n        case '-s': cmdopts.resolveSymlink = true; break;\n        case '-w': cmdopts.commandType = true; break;\n        default:\n          if (arg.charAt(0) == '-') {\n            this.stderr.write(`which: bad option: ${arg}\\n`);\n            exitCode = 1;\n            break;\n          }\n          commands.push(arg);\n      }\n    }\n\n    if (!exitCode) {\n      for (let cmd of commands) {\n        let aliasValue = alias.getAlias(cmd);\n        if (aliasValue) {\n          this.stdout.write(`${cmd}: aliased to ${aliasValue}\\n`);\n\n          if (!cmdopts.all) continue;\n        }\n        if (cmd in builtins) {\n          this.stdout.write(`${cmd}: shell built-in command\\n`);\n\n          if (!cmdopts.all) continue;\n        }\n        const pattern = '{'+paths.map((p) => path.join(p, cmd)).join(',')+'}';\n        const result = glob.sync(pattern);\n        if (result.length > 0) {\n          if (cmdopts.all) {\n            result.map((p) => this.stdout.write(p+'\\n'));\n          }\n          else {\n            this.stdout.write(result[0]+'\\n');\n          }\n        }\n        else {\n          this.stderr.write(`${cmd} not found\\n`);\n          exitCode = 1;\n        }\n      }\n    }\n\n    process.nextTick(() => this.emit('exit', exitCode));\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/which.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 110,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/which.js",
    "static": true,
    "longname": "src/builtins/which.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/which.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 111,
    "kind": "variable",
    "name": "alias",
    "memberof": "src/builtins/which.js",
    "static": true,
    "longname": "src/builtins/which.js~alias",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/which.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 112,
    "kind": "variable",
    "name": "glob",
    "memberof": "src/builtins/which.js",
    "static": true,
    "longname": "src/builtins/which.js~glob",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/which.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 113,
    "kind": "variable",
    "name": "path",
    "memberof": "src/builtins/which.js",
    "static": true,
    "longname": "src/builtins/which.js~path",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/which.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 114,
    "kind": "class",
    "name": "Which",
    "memberof": "src/builtins/which.js",
    "static": true,
    "longname": "src/builtins/which.js~Which",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/which.js",
    "importStyle": "Which",
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 115,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/which.js~Which",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/which.js~Which#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 8,
    "undocument": true
  },
  {
    "__docId__": 116,
    "kind": "file",
    "name": "src/context.js",
    "content": "const IO = require('./io');\n\nmodule.exports = class Context\n{\n  constructor ({\n    parent,\n    env = Object.assign({}, process.env),\n    exports = Object.keys(env),\n    cwd = process.env.PWD,\n    dirstack = [cwd],\n    stdio = new IO,\n    filename = null,\n  }={})\n  {\n    this.parent = parent || this;\n    this.stdio = stdio;\n    this._env = {'?': 0, ...env};\n    this._exports = ['?', ...exports];\n    this._cwd = cwd;\n    this._dirstack = dirstack;\n    this.filename = filename;\n  }\n\n  clone ({subshell = false, exports = []} = {})\n  {\n    return new Context({\n      parent: subshell ? null : this,\n      subshell: subshell,\n      env: subshell ? this.generateExportEnv(exports) : this.env,\n      exports: this.exports.slice(),\n      cwd: this.cwd,\n      dirstack: this.dirstack.slice(),\n      stdio: this.stdio.clone(),\n      filename: this.filename,\n    });\n  }\n\n  generate (exports = [])\n  {\n    return {\n      env: this.generateExportEnv(exports),\n      cwd: this.cwd,\n      stdio: this.stdio,\n    };\n  }\n\n  generateExportEnv (exports=[])\n  {\n    return [...exports, ...this.exports].reduce((env, key) => {\n      env[key] = key in this.env ? this.env[key] : '';\n      return env;\n    }, {});\n  }\n\n  get top ()\n  {\n    let parent = this.parent;\n    while (parent !== parent.parent) {\n      parent = parent.parent;\n    }\n    return parent;\n  }\n\n  get env () { return this._env }\n  set env (val) { this._env = val }\n\n  get exports () { return this.top._exports }\n  set exports (val) { this.top._exports = val }\n\n  get cwd () { return this.top._cwd }\n  set cwd (val) { this.top._cwd = val }\n\n  get dirstack () { return this.top._dirstack }\n  set dirstack (val) { this.top._dirstack = val }\n\n  get exitCode () { return this._env['?'] }\n  set exitCode (val) { this._env['?'] = val }\n  // get exitCode () { return this._exitCode }\n  // set exitCode (val) { this._exitCode = val }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/context.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 117,
    "kind": "variable",
    "name": "IO",
    "memberof": "src/context.js",
    "static": true,
    "longname": "src/context.js~IO",
    "access": "public",
    "export": false,
    "importPath": "blush/src/context.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 118,
    "kind": "class",
    "name": "Context",
    "memberof": "src/context.js",
    "static": true,
    "longname": "src/context.js~Context",
    "access": "public",
    "export": true,
    "importPath": "blush/src/context.js",
    "importStyle": "Context",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 119,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 120,
    "kind": "member",
    "name": "parent",
    "memberof": "src/context.js~Context",
    "static": false,
    "longname": "src/context.js~Context#parent",
    "access": "public",
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 121,
    "kind": "member",
    "name": "stdio",
    "memberof": "src/context.js~Context",
    "static": false,
    "longname": "src/context.js~Context#stdio",
    "access": "public",
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 122,
    "kind": "member",
    "name": "_env",
    "memberof": "src/context.js~Context",
    "static": false,
    "longname": "src/context.js~Context#_env",
    "access": "private",
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "ignore": true,
    "type": {
      "types": [
        "{\"?\": *, ...env: Object}"
      ]
    }
  },
  {
    "__docId__": 123,
    "kind": "member",
    "name": "_exports",
    "memberof": "src/context.js~Context",
    "static": false,
    "longname": "src/context.js~Context#_exports",
    "access": "private",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "ignore": true,
    "type": {
      "types": [
        "string[]"
      ]
    }
  },
  {
    "__docId__": 124,
    "kind": "member",
    "name": "_cwd",
    "memberof": "src/context.js~Context",
    "static": false,
    "longname": "src/context.js~Context#_cwd",
    "access": "private",
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 125,
    "kind": "member",
    "name": "_dirstack",
    "memberof": "src/context.js~Context",
    "static": false,
    "longname": "src/context.js~Context#_dirstack",
    "access": "private",
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 126,
    "kind": "member",
    "name": "filename",
    "memberof": "src/context.js~Context",
    "static": false,
    "longname": "src/context.js~Context#filename",
    "access": "public",
    "description": null,
    "lineNumber": 21,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 127,
    "kind": "method",
    "name": "clone",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#clone",
    "access": "public",
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "params": [
      {
        "name": "objectPattern",
        "optional": true,
        "types": [
          "{\"subshell\": *, \"exports\": *}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 128,
    "kind": "method",
    "name": "generate",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#generate",
    "access": "public",
    "description": null,
    "lineNumber": 38,
    "undocument": true,
    "params": [
      {
        "name": "exports",
        "optional": true,
        "types": [
          "*[]"
        ],
        "defaultRaw": [],
        "defaultValue": "[]"
      }
    ],
    "return": {
      "types": [
        "{\"env\": *, \"cwd\": *, \"stdio\": *}"
      ]
    }
  },
  {
    "__docId__": 129,
    "kind": "method",
    "name": "generateExportEnv",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#generateExportEnv",
    "access": "public",
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "params": [
      {
        "name": "exports",
        "optional": true,
        "types": [
          "*[]"
        ],
        "defaultRaw": [],
        "defaultValue": "[]"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 130,
    "kind": "get",
    "name": "top",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#top",
    "access": "public",
    "description": null,
    "lineNumber": 55,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 131,
    "kind": "get",
    "name": "env",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#env",
    "access": "public",
    "description": null,
    "lineNumber": 64,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 132,
    "kind": "set",
    "name": "env",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#env",
    "access": "public",
    "description": null,
    "lineNumber": 65,
    "undocument": true
  },
  {
    "__docId__": 134,
    "kind": "get",
    "name": "exports",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#exports",
    "access": "public",
    "description": null,
    "lineNumber": 67,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 135,
    "kind": "set",
    "name": "exports",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#exports",
    "access": "public",
    "description": null,
    "lineNumber": 68,
    "undocument": true
  },
  {
    "__docId__": 136,
    "kind": "get",
    "name": "cwd",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#cwd",
    "access": "public",
    "description": null,
    "lineNumber": 70,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 137,
    "kind": "set",
    "name": "cwd",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#cwd",
    "access": "public",
    "description": null,
    "lineNumber": 71,
    "undocument": true
  },
  {
    "__docId__": 138,
    "kind": "get",
    "name": "dirstack",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#dirstack",
    "access": "public",
    "description": null,
    "lineNumber": 73,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 139,
    "kind": "set",
    "name": "dirstack",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#dirstack",
    "access": "public",
    "description": null,
    "lineNumber": 74,
    "undocument": true
  },
  {
    "__docId__": 140,
    "kind": "get",
    "name": "exitCode",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#exitCode",
    "access": "public",
    "description": null,
    "lineNumber": 76,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 141,
    "kind": "set",
    "name": "exitCode",
    "memberof": "src/context.js~Context",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/context.js~Context#exitCode",
    "access": "public",
    "description": null,
    "lineNumber": 77,
    "undocument": true
  },
  {
    "__docId__": 142,
    "kind": "file",
    "name": "src/exec.js",
    "content": "const parse = require('./parse');\nconst {run} = require('./run');\nconst Context = require('./context');\nconst {PassThrough} = require('stream');\n\nmodule.exports = async function exec (cmd, ctx = new Context())\n{\n  const stdout = new PassThrough;\n  let out = '';\n\n  const origStdout = ctx.stdio[1];\n  ctx.stdio[1] = stdout;\n\n  return await new Promise(async (res, rej) => {\n    // console.log(stdout);\n\n    stdout\n    .on('error', (err) => { rej(err) })\n    .on('data', (data) => { out += data.toString() })\n    .on('end', () => { res(out) });\n\n    if (typeof cmd === 'string') {\n      try {\n        cmd = parse(cmd+'\\n');\n      }\n      catch (err) {\n        return rej(err);\n      }\n    }\n\n    try {\n      await run(cmd, ctx);\n      ctx.stdio[1] = origStdout;\n    }\n    catch (err) {\n      ctx.stdio[1] = origStdout;\n      rej(err);\n    }\n  });\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/exec.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 143,
    "kind": "variable",
    "name": "parse",
    "memberof": "src/exec.js",
    "static": true,
    "longname": "src/exec.js~parse",
    "access": "public",
    "export": false,
    "importPath": "blush/src/exec.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 144,
    "kind": "variable",
    "name": "run",
    "memberof": "src/exec.js",
    "static": true,
    "longname": "src/exec.js~run",
    "access": "public",
    "export": false,
    "importPath": "blush/src/exec.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 145,
    "kind": "variable",
    "name": "Context",
    "memberof": "src/exec.js",
    "static": true,
    "longname": "src/exec.js~Context",
    "access": "public",
    "export": false,
    "importPath": "blush/src/exec.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 146,
    "kind": "variable",
    "name": "PassThrough",
    "memberof": "src/exec.js",
    "static": true,
    "longname": "src/exec.js~PassThrough",
    "access": "public",
    "export": false,
    "importPath": "blush/src/exec.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 147,
    "kind": "function",
    "name": "exec",
    "memberof": "src/exec.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/exec.js~exec",
    "access": "public",
    "export": true,
    "importPath": "blush/src/exec.js",
    "importStyle": "exec",
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "params": [
      {
        "name": "cmd",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "optional": true,
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 148,
    "kind": "file",
    "name": "src/index.js",
    "content": "#!/usr/bin/env node\n\nconst Context = require('./context');\nconst parseExitCode = require('./utils/parse-exit-code');\nconst args = process.argv.slice(2);\n\nprocess.on('unhandledRejection', (reason, p) => {\n  console.error('Unhandled Rejection at: Promise', p, 'reason:', reason);\n});\n\n// TODO: Parse options.\n\nconst opts = {\n};\n\nconst files = [];\n\nfor (let arg of args) {\n  if (arg.charAt(0) == '-') {\n    // option\n  }\n  else {\n    // file\n    files.push(arg);\n  }\n}\n\n;(async () => {\n\n  if (files.length) {\n    let exitCode = 0;\n    const parse = require('./parse');\n    const {run} = require('./run');\n    for (let file of files) {\n      const ctx = new Context();\n      ctx.filename = file;\n      await run(parse.file(file), ctx);\n      exitCode = 0;\n    }\n    process.exit(parseExitCode(exitCode));\n  }\n  else {\n    const REPL = require('./repl');\n    const repl = new REPL();\n    try {\n      await repl.start();\n    }\n    catch (err) {\n      exitCode = err;\n    }\n  }\n})();\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 149,
    "kind": "variable",
    "name": "Context",
    "memberof": "src/index.js",
    "static": true,
    "longname": "src/index.js~Context",
    "access": "public",
    "export": false,
    "importPath": "blush/src/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 150,
    "kind": "variable",
    "name": "parseExitCode",
    "memberof": "src/index.js",
    "static": true,
    "longname": "src/index.js~parseExitCode",
    "access": "public",
    "export": false,
    "importPath": "blush/src/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 151,
    "kind": "variable",
    "name": "args",
    "memberof": "src/index.js",
    "static": true,
    "longname": "src/index.js~args",
    "access": "public",
    "export": false,
    "importPath": "blush/src/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 152,
    "kind": "variable",
    "name": "opts",
    "memberof": "src/index.js",
    "static": true,
    "longname": "src/index.js~opts",
    "access": "public",
    "export": false,
    "importPath": "blush/src/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 153,
    "kind": "variable",
    "name": "files",
    "memberof": "src/index.js",
    "static": true,
    "longname": "src/index.js~files",
    "access": "public",
    "export": false,
    "importPath": "blush/src/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 16,
    "undocument": true,
    "type": {
      "types": [
        "*[]"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 154,
    "kind": "file",
    "name": "src/io.js",
    "content": "const BlushError = require('./utils/error');\nconst fs = require('fs');\nconst {Duplex} = require('stream');\n\nclass ReadWriteStream extends Duplex\n{\n  constructor (path, opts)\n  {\n    super();\n    this._readStream = fs.createReadStream(path, opts);\n    this._writeStream = fs.createWriteStream(path, opts);\n    this.fd = opts.fd;\n  }\n\n  _write (...args)\n  {\n    this._writeStream._write(...args);\n  }\n\n  _read (...args)\n  {\n    this._readStream._read(...args);\n  }\n\n  close ()\n  {\n    this._writeStream.end();\n  }\n}\n\nmodule.exports = class IO extends Array\n{\n  constructor (...args)\n  {\n    const [\n      stdin = process.stdin,\n      stdout = process.stdout,\n      stderr = process.stderr,\n      ...rest\n    ] = args;\n    super(stdin, stdout, stderr, ...rest);\n  }\n\n  pause ()\n  {\n    process.stdin.pause();\n    process.stdout.pause();\n    process.stderr.pause();\n  }\n\n  resume ()\n  {\n    process.stdin.resume();\n    process.stdout.resume();\n    process.stderr.resume();\n  }\n\n  reset ()\n  {\n    for (let i=0, ii=this.length; i<ii; i++) {\n      this.close(i)\n    }\n    this.length = 3;\n    this[0] = process.stdin;\n    this[1] = process.stdout;\n    this[2] = process.stderr;\n  }\n\n  clone ()\n  {\n    return new IO(...this);\n  }\n\n  _open (path, fd, flags)\n  {\n    if (typeof path !== 'string') {\n      throw new TypeError('path must be a string');\n    }\n    if (isNaN(fd) || fd < 0) {\n      throw new TypeError('fd must be an integer > 0');\n    }\n    this.close(fd);\n    return fs.openSync(path, flags);\n  }\n\n  openReadWrite (path, fd)\n  {\n    try {\n      this[fd] = new ReadWriteStream('', {fd: this._open(path, fd, 'r+')});\n    }\n    catch (err) {\n      if (err.code === 'ENOENT') {\n        this[fd] = new ReadWriteStream('', {fd: this._open(path, fd, 'w+')});\n      }\n      else {\n        throw err;\n      }\n    }\n    return this[fd];\n  }\n\n  openTrunc (path, fd)\n  {\n    return this[fd] = fs.createWriteStream('', {fd: this._open(path, fd, 'w+')});\n  }\n\n  openAppend (path, fd)\n  {\n    return this[fd] = fs.createWriteStream('', {fd: this._open(path, fd, 'a+')});\n  }\n\n  openRead (path, fd)\n  {\n    return this[fd] = fs.createReadStream('', {fd: this._open(path, fd, 'r')});\n  }\n\n  openWrite (path, fd)\n  {\n    return this[fd] = fs.createWriteStream('', {fd: this._open(path, fd, 'w')});\n  }\n\n  close (fd)\n  {\n    if (!this[fd] || this[fd].isTTY) return;\n    try { fs.closeSync(this[fd].fd) }\n    catch (e) {}\n  }\n\n  redir (from, to)\n  {\n    if (!this[to]) {\n      throw new BlushError(`${to}: bad file descriptor`, 1);\n    }\n    this.close(from);\n    this[from] = this[to];\n    // Object.defineProperty(this, from, {\n    //   get: () => this[to],\n    //   set: (v) => this[to] = v,\n    //   configurable: true,\n    // });\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/io.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 155,
    "kind": "variable",
    "name": "BlushError",
    "memberof": "src/io.js",
    "static": true,
    "longname": "src/io.js~BlushError",
    "access": "public",
    "export": false,
    "importPath": "blush/src/io.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 156,
    "kind": "variable",
    "name": "fs",
    "memberof": "src/io.js",
    "static": true,
    "longname": "src/io.js~fs",
    "access": "public",
    "export": false,
    "importPath": "blush/src/io.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 157,
    "kind": "variable",
    "name": "Duplex",
    "memberof": "src/io.js",
    "static": true,
    "longname": "src/io.js~Duplex",
    "access": "public",
    "export": false,
    "importPath": "blush/src/io.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 158,
    "kind": "class",
    "name": "ReadWriteStream",
    "memberof": "src/io.js",
    "static": true,
    "longname": "src/io.js~ReadWriteStream",
    "access": "public",
    "export": false,
    "importPath": "blush/src/io.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false,
    "extends": [
      "Duplex"
    ],
    "ignore": true
  },
  {
    "__docId__": 159,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/io.js~ReadWriteStream",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~ReadWriteStream#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 160,
    "kind": "member",
    "name": "_readStream",
    "memberof": "src/io.js~ReadWriteStream",
    "static": false,
    "longname": "src/io.js~ReadWriteStream#_readStream",
    "access": "private",
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 161,
    "kind": "member",
    "name": "_writeStream",
    "memberof": "src/io.js~ReadWriteStream",
    "static": false,
    "longname": "src/io.js~ReadWriteStream#_writeStream",
    "access": "private",
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 162,
    "kind": "member",
    "name": "fd",
    "memberof": "src/io.js~ReadWriteStream",
    "static": false,
    "longname": "src/io.js~ReadWriteStream#fd",
    "access": "public",
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 163,
    "kind": "method",
    "name": "_write",
    "memberof": "src/io.js~ReadWriteStream",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~ReadWriteStream#_write",
    "access": "private",
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "ignore": true,
    "params": [
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": null
  },
  {
    "__docId__": 164,
    "kind": "method",
    "name": "_read",
    "memberof": "src/io.js~ReadWriteStream",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~ReadWriteStream#_read",
    "access": "private",
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "ignore": true,
    "params": [
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": null
  },
  {
    "__docId__": 165,
    "kind": "method",
    "name": "close",
    "memberof": "src/io.js~ReadWriteStream",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~ReadWriteStream#close",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 166,
    "kind": "class",
    "name": "IO",
    "memberof": "src/io.js",
    "static": true,
    "longname": "src/io.js~IO",
    "access": "public",
    "export": true,
    "importPath": "blush/src/io.js",
    "importStyle": "IO",
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "interface": false,
    "extends": [
      "Array"
    ]
  },
  {
    "__docId__": 167,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 33,
    "undocument": true
  },
  {
    "__docId__": 168,
    "kind": "method",
    "name": "pause",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#pause",
    "access": "public",
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 169,
    "kind": "method",
    "name": "resume",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#resume",
    "access": "public",
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 170,
    "kind": "method",
    "name": "reset",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#reset",
    "access": "public",
    "description": null,
    "lineNumber": 58,
    "undocument": true,
    "params": [],
    "return": null
  },
  {
    "__docId__": 171,
    "kind": "member",
    "name": "length",
    "memberof": "src/io.js~IO",
    "static": false,
    "longname": "src/io.js~IO#length",
    "access": "public",
    "description": null,
    "lineNumber": 63,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    }
  },
  {
    "__docId__": 172,
    "kind": "member",
    "name": "[0]",
    "memberof": "src/io.js~IO",
    "static": false,
    "longname": "src/io.js~IO#[0]",
    "access": "public",
    "description": null,
    "lineNumber": 64,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 173,
    "kind": "member",
    "name": "[1]",
    "memberof": "src/io.js~IO",
    "static": false,
    "longname": "src/io.js~IO#[1]",
    "access": "public",
    "description": null,
    "lineNumber": 65,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 174,
    "kind": "member",
    "name": "[2]",
    "memberof": "src/io.js~IO",
    "static": false,
    "longname": "src/io.js~IO#[2]",
    "access": "public",
    "description": null,
    "lineNumber": 66,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 175,
    "kind": "method",
    "name": "clone",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#clone",
    "access": "public",
    "description": null,
    "lineNumber": 69,
    "undocument": true,
    "params": [],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 176,
    "kind": "method",
    "name": "_open",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#_open",
    "access": "private",
    "description": null,
    "lineNumber": 74,
    "undocument": true,
    "ignore": true,
    "params": [
      {
        "name": "path",
        "types": [
          "*"
        ]
      },
      {
        "name": "fd",
        "types": [
          "*"
        ]
      },
      {
        "name": "flags",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 177,
    "kind": "method",
    "name": "openReadWrite",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#openReadWrite",
    "access": "public",
    "description": null,
    "lineNumber": 86,
    "undocument": true,
    "params": [
      {
        "name": "path",
        "types": [
          "*"
        ]
      },
      {
        "name": "fd",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 178,
    "kind": "member",
    "name": "[fd]",
    "memberof": "src/io.js~IO",
    "static": false,
    "longname": "src/io.js~IO#[fd]",
    "access": "public",
    "description": null,
    "lineNumber": 89,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 180,
    "kind": "method",
    "name": "openTrunc",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#openTrunc",
    "access": "public",
    "description": null,
    "lineNumber": 102,
    "undocument": true,
    "params": [
      {
        "name": "path",
        "types": [
          "*"
        ]
      },
      {
        "name": "fd",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 181,
    "kind": "method",
    "name": "openAppend",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#openAppend",
    "access": "public",
    "description": null,
    "lineNumber": 107,
    "undocument": true,
    "params": [
      {
        "name": "path",
        "types": [
          "*"
        ]
      },
      {
        "name": "fd",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 182,
    "kind": "method",
    "name": "openRead",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#openRead",
    "access": "public",
    "description": null,
    "lineNumber": 112,
    "undocument": true,
    "params": [
      {
        "name": "path",
        "types": [
          "*"
        ]
      },
      {
        "name": "fd",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 183,
    "kind": "method",
    "name": "openWrite",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#openWrite",
    "access": "public",
    "description": null,
    "lineNumber": 117,
    "undocument": true,
    "params": [
      {
        "name": "path",
        "types": [
          "*"
        ]
      },
      {
        "name": "fd",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 184,
    "kind": "method",
    "name": "close",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#close",
    "access": "public",
    "description": null,
    "lineNumber": 122,
    "undocument": true,
    "params": [
      {
        "name": "fd",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 185,
    "kind": "method",
    "name": "redir",
    "memberof": "src/io.js~IO",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/io.js~IO#redir",
    "access": "public",
    "description": null,
    "lineNumber": 129,
    "undocument": true,
    "params": [
      {
        "name": "from",
        "types": [
          "*"
        ]
      },
      {
        "name": "to",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 186,
    "kind": "member",
    "name": "[from]",
    "memberof": "src/io.js~IO",
    "static": false,
    "longname": "src/io.js~IO#[from]",
    "access": "public",
    "description": null,
    "lineNumber": 135,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 187,
    "kind": "file",
    "name": "src/run.js",
    "content": "const $ = exports;\nconst locateCommand = require('./utils/locate-command');\nconst readShebang = require('./utils/read-shebang');\nconst parseExitCode = require('./utils/parse-exit-code');\nconst print = require('./utils/printer');\nconst Context = require('./context');\nconst BlushError = require('./utils/error');\nconst parse = require('./parse');\nconst builtins = require('./builtins');\nconst log = require('./utils/debug')('blush:run');\nconst {PassThrough} = require('stream');\nconst {spawn} = require('child_process');\nconst {Socket} = require('net');\nconst fs = require('fs');\nconst path = require('path');\n\n$.run = async function (node, ctx = new Context())\n{\n  try {\n    await $.evaluate(node, ctx)\n    return 0;\n  }\n  catch (err) {\n    log(err);\n    print.err(ctx, err);\n    return parseExitCode(err);\n  }\n}\n\n$.evaluate = async function (node, ctx)\n{\n  if (node instanceof Array) {\n    for (let node of node) {\n      try { await $.evaluate(node, ctx) }\n      catch (err) { break }\n    }\n    return;\n  }\n\n  if (!node || !(node.type in $)) {\n    return log('node type \\'%s\\' not implemented', node && node.type || node);\n  }\n\n  return await $[node.type](node, ctx);\n}\n\n$.program = async function (node, ctx)\n{\n  log('evaluate program');\n  const {body} = node;\n  return body && await $.evaluate(body, ctx);\n}\n\n$.list = async function (node, ctx)\n{\n  log('evaluate list');\n  const {commands} = node;\n\n  let exitCode = 0;\n\n  for (let i=0, ii=commands.length; i<ii; i++) {\n    const cmd = commands[i];\n\n    if (cmd.type === 'assign') {\n      await $.evaluate(cmd, ctx);\n      continue;\n    }\n\n    const cmd_ctx = ctx.clone();\n    const modifier = cmd.modifier && await $.evaluate(cmd.modifier, cmd_ctx);\n\n    log('modifier: %s; exit-code: %d', modifier, exitCode);\n    if (modifier == 'and' && !!exitCode) { continue }\n    if (modifier == 'or' && !exitCode) { continue }\n\n    let stdout = cmd_ctx.stdio[1];\n    if (stdout && stdout.fd !== 1) {\n      cmd_ctx.stdio[1] = new PassThrough;\n\n      cmd_ctx.stdio[1]\n      .on('data', (data) => {\n        stdout.write(data);\n      });\n    }\n\n    if (ctx.requestInputStream) {\n      cmd_ctx.requestInputStream = ctx.requestInputStream;\n      ctx.requestInputStream = 'ignore';\n    }\n\n    try {\n      await $.evaluate(cmd, cmd_ctx);\n      ctx.exitCode = exitCode = 0;\n    }\n    catch (err) {\n      exitCode = err;\n      ctx.exitCode = parseExitCode(err);\n    }\n  }\n\n  // TODO: Working on piping into a list. Probably need to switch from 'pipe'\n  // to 'ignore' when 'end' is received on the piping command's stdout.\n\n  if (ctx.stdio[1] && ctx.stdio[1].end && (!('fd' in ctx.stdio[1]) || ctx.stdio[1].fd > 2)) {\n    ctx.stdio[1].end();\n  }\n\n  if (exitCode !== 0) { throw exitCode }\n}\n\nconst NS_PER_SEC = 1e9;\nconst US_PER_SEC = 1e6;\nconst MS_PER_SEC = 1e3;\n\n$.pipeline = async function (node, ctx)\n{\n  log('evaluate pipeline');\n\n  const {commands, time, negate} = node;\n\n  let exitCode = 0;\n\n  let start;\n  if (time) { start = process.hrtime() }\n\n  const promises = [];\n  const pipeline = commands.slice().reverse();\n  let cmd, stream;\n\n  while (cmd = pipeline.shift()) {\n    try {\n      await new Promise(async (res, rej) => {\n        const cmd_ctx = ctx.clone();\n\n        if (stream) { cmd_ctx.stdio[1] = stream }\n\n        if (pipeline.length) cmd_ctx.requestInputStream = (err, str) => {\n          if (err) return rej(err);\n          stream = str;\n          res();\n        }\n        else if (ctx.requestInputStream) {\n          cmd_ctx.requestInputStream = ctx.requestInputStream;\n        }\n\n        // Redirs here?\n        if (cmd.redir) {\n          for (let r of cmd.redir) {\n            try {\n              await $.evaluate(r, cmd_ctx)\n              if (r.io == 1 && stream) process.nextTick(() => stream.end())\n            }\n            catch (err) {\n              print.err(ctx, err);\n              stream && stream.end();\n              return rej(err);\n            }\n          }\n        }\n\n        try {\n          promises.push($.evaluate(cmd, cmd_ctx).catch((err) => {\n            stream && stream.end();\n            exitCode = err;\n          }));\n        }\n        catch (err) {\n          stream && stream.end();\n          return rej(err)\n        }\n\n        if (pipeline.length == 0) { res() }\n      });\n    }\n    catch (err) { break }\n  }\n\n  try {\n    await Promise.all(promises);\n    if (negate) { ctx.exitCode = exitCode = 1 }\n  }\n  catch (err) {\n    // for (let stream of streams) {\n    //   stream.end();\n    // }\n    if (negate) { ctx.exitCode = exitCode = 0 }\n    else {\n      ctx.exitCode = parseExitCode(err);\n      exitCode = err;\n    }\n  }\n\n  if (time) {\n    const d = process.hrtime(start);\n    let time = d[0] * NS_PER_SEC + d[1];\n    let unit = 'ns';\n    if (time > NS_PER_SEC) {\n      time /= NS_PER_SEC;\n      unit = 's';\n    }\n    else if (time > NS_PER_SEC/MS_PER_SEC) {\n      time /= NS_PER_SEC/MS_PER_SEC;\n      unit = 'ms';\n    }\n    else if (time > NS_PER_SEC/US_PER_SEC) {\n      time /= NS_PER_SEC/US_PER_SEC;\n      unit = 'us';\n    }\n    print.out(ctx, `${time.toFixed(2)}${unit}`);\n  }\n\n  if (exitCode !== 0) { throw exitCode }\n}\n\n\n$.simple_cmd = async function (node, ctx)\n{\n  let name = origName = await $.word(node.name, ctx);\n  let args = [];\n  for (let arg of node.args) {\n    args.push(await $.word(arg, ctx));\n  }\n\n  const exports = [];\n  if (node.params) {\n    for (let p of node.params) {\n      exports.push(p.name);\n      await $.evaluate(p, ctx);\n    }\n  }\n\n  log('evaluate simple_cmd \"%s\"', name);\n\n  const stdin = ctx.stdio[0];\n  if (typeof ctx.requestInputStream === 'function') { ctx.stdio[0] = 'pipe' }\n  else if (ctx.requestInputStream === 'ignore') { ctx.stdio[0] = 'pipe' }\n\n  const stdout = ctx.stdio[1];\n  if (isNaN(stdout.fd)) { ctx.stdio[1] = 'pipe' }\n\n  await new Promise(async (res, rej) => {\n    let proc;\n    let alias = builtins.alias.getAlias(name);\n\n    if (alias) {\n      let [aliasName, ...aliasArgs] = alias.split(' ');\n      name = aliasName;\n      args = [...aliasArgs, ...args];\n    }\n\n    if (name in builtins) {\n      proc = new builtins[name](name, args, ctx);\n    }\n    else {\n      let cmdpath\n\n      try {\n        cmdpath = locateCommand(name, node.dot, ctx.clone({env: process.env}));\n      }\n      catch (err) {\n        err.source = origName;\n        print.err(ctx, err);\n        if (ctx.requestInputStream) {\n          ctx.requestInputStream(err);\n        }\n        return rej(err);\n      }\n\n      // This is here to speed up running blush scripts {{{\n      const shebang = await readShebang(cmdpath);\n      if (/(^|\\s|\\/)blush$/.test(shebang)) {\n        const src = fs.readFileSync(cmdpath, 'utf-8');\n        try {\n          const ast = parse(src);\n          if (!ast) {\n            return rej(new BlushError('invalid syntax:\\n\\nUnexpected end of input\\n', {errno: 1, source: name}));\n          }\n          ctx.stdio[0] = stdin;\n          ctx.stdio[1] = stdout;\n          ctx.filename = cmdpath;\n          return res(await $.evaluate(ast, ctx.clone({subshell: true})));\n        }\n        catch (err) {\n          return rej(err);\n        }\n      }\n      // }}}\n\n      ctx.argv0 = origName;\n      try {\n        proc = spawn(cmdpath, args, ctx.generate(exports));\n      }\n      catch (err) {\n        // console.log(err);\n        return rej(err);\n      }\n    }\n\n    if (typeof ctx.requestInputStream === 'function') {\n      ctx.requestInputStream(null, proc.stdio[0]);\n      proc.stdin.on('error', (err) => {\n        err.source = origName;\n        print.err(ctx, err)\n        rej(err);\n      })\n    }\n    else if (ctx.requestInputStream === 'ignore') {\n      proc.stdin.end();\n    }\n\n    if (ctx.stdio[1] === 'pipe') {\n      proc.stdout\n      .on('data', (data) => {\n        stdout.write(data.toString());\n      })\n      .on('end', () => {\n        if (!stdout.isTTY) { stdout.end() }\n      })\n      .on('error', (err) => {\n        err.source = origName;\n        if (!stdout.isTTY) { stdout.end(err) }\n      })\n    }\n\n    proc\n    .on('exit', (code, signal) => {\n      log('exit \"%s\"', name);\n      if (code || signal) { return rej(code || signal) }\n      res();\n    })\n    .on('error', (err) => {\n      log('error \"%s\"', name);\n      err.source = origName;\n      print.err(ctx, err);\n      rej(err);\n    })\n  });\n}\n\n$.group_cmd = async function (node, ctx)\n{\n  log('evaluate group_cmd');\n  return await $.evaluate(node.list, ctx);\n}\n\n$.if_cmd = async function (node, ctx)\n{\n  log('evaluate if_cmd');\n\n  await $.evaluate(node.if, ctx)\n  .then(async () => {\n    await $.evaluate(node.then, ctx);\n  })\n  .catch(async (err) => {\n    await $.evaluate(node.else, ctx);\n  })\n}\n\n$.subshell_cmd = async function (node, ctx)\n{\n  log('evaluate subshell_cmd');\n  await $.evaluate(node.list, ctx.clone({subshell: true}));\n}\n\n// $.js_cmd = async function js_cmd (node, ctx)\n// {\n//   const code = await $.evaluate(node.js, ctx);\n//   const newNode = {\n//     name: {type: 'word', value: 'node'},\n//     args: [{type: 'word', value: '-e'}, {type: 'word', value: code}],\n//   };\n//   const filename = typeof ctx.filename === 'string' ? ctx.filename : ctx.cwd + '/VM.js';\n//   ctx.cwd = path.dirname(filename);\n//   return await $.simple_cmd(newNode, ctx);\n// }\n\n$.redir_ofile = async function (node, ctx)\n{\n  log('evaluate redir_ofile');\n  const fname = await $.word(node.fname, ctx);\n  ctx.stdio.openTrunc(fname, node.io);\n}\n\n$.redir_iofile = async function (node, ctx)\n{\n  log('evaluate redir_iofile');\n  const fname = await $.word(node.fname, ctx);\n  ctx.stdio.openReadWrite(fname, node.io);\n}\n\n$.redir_fd = async function (node, ctx)\n{\n  log('evaluate redir_fd');\n  ctx.stdio.redir(node.io, node.to);\n}\n\n$.assign = async function (node, ctx)\n{\n  log('evaluate assign');\n  const {name, value} = node;\n  const env = node.local ? ctx.env : ctx.top.env;\n  if (value) {\n    let res = await $.word(value, ctx);\n    env[name] = res;\n  }\n  else { delete env[name] }\n}\n\n$.AND = function (node, ctx)\n{\n  return 'and';\n}\n\n$.OR = function (node, ctx)\n{\n  return 'or';\n}\n\n$.word = require('./word').evaluate;\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/run.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 188,
    "kind": "variable",
    "name": "$",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~$",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 189,
    "kind": "variable",
    "name": "locateCommand",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~locateCommand",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 190,
    "kind": "variable",
    "name": "readShebang",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~readShebang",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 191,
    "kind": "variable",
    "name": "parseExitCode",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~parseExitCode",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 192,
    "kind": "variable",
    "name": "print",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~print",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 193,
    "kind": "variable",
    "name": "Context",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~Context",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 194,
    "kind": "variable",
    "name": "BlushError",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~BlushError",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 195,
    "kind": "variable",
    "name": "parse",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~parse",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 196,
    "kind": "variable",
    "name": "builtins",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~builtins",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 197,
    "kind": "variable",
    "name": "log",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~log",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 198,
    "kind": "variable",
    "name": "PassThrough",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~PassThrough",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 199,
    "kind": "variable",
    "name": "spawn",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~spawn",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 12,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 200,
    "kind": "variable",
    "name": "Socket",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~Socket",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 201,
    "kind": "variable",
    "name": "fs",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~fs",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 202,
    "kind": "variable",
    "name": "path",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~path",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 203,
    "kind": "function",
    "name": "run",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~run",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "optional": true,
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 204,
    "kind": "function",
    "name": "evaluate",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~evaluate",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 205,
    "kind": "function",
    "name": "program",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~program",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 206,
    "kind": "function",
    "name": "list",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~list",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 54,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 207,
    "kind": "variable",
    "name": "NS_PER_SEC",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~NS_PER_SEC",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 111,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 208,
    "kind": "variable",
    "name": "US_PER_SEC",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~US_PER_SEC",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 112,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 209,
    "kind": "variable",
    "name": "MS_PER_SEC",
    "memberof": "src/run.js",
    "static": true,
    "longname": "src/run.js~MS_PER_SEC",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 113,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 210,
    "kind": "function",
    "name": "pipeline",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~pipeline",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 115,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 211,
    "kind": "function",
    "name": "simple_cmd",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~simple_cmd",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 216,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 212,
    "kind": "function",
    "name": "group_cmd",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~group_cmd",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 340,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 213,
    "kind": "function",
    "name": "if_cmd",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~if_cmd",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 346,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 214,
    "kind": "function",
    "name": "subshell_cmd",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~subshell_cmd",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 359,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 215,
    "kind": "function",
    "name": "redir_ofile",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~redir_ofile",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 377,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 216,
    "kind": "function",
    "name": "redir_iofile",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~redir_iofile",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 384,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 217,
    "kind": "function",
    "name": "redir_fd",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~redir_fd",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 391,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 218,
    "kind": "function",
    "name": "assign",
    "memberof": "src/run.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/run.js~assign",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 397,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 219,
    "kind": "function",
    "name": "AND",
    "memberof": "src/run.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/run.js~AND",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 409,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 220,
    "kind": "function",
    "name": "OR",
    "memberof": "src/run.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/run.js~OR",
    "access": "public",
    "export": false,
    "importPath": "blush/src/run.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 414,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 221,
    "kind": "file",
    "name": "src/utils/error.js",
    "content": "module.exports = class BlushError extends Error\n{\n  constructor (message, errno)\n  {\n    super(message);\n\n    if (!isNaN(errno)) { this.errno = errno }\n    else { Object.assign(this, errno) }\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/utils/error.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 222,
    "kind": "class",
    "name": "BlushError",
    "memberof": "src/utils/error.js",
    "static": true,
    "longname": "src/utils/error.js~BlushError",
    "access": "public",
    "export": true,
    "importPath": "blush/src/utils/error.js",
    "importStyle": "BlushError",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false,
    "extends": [
      "Error"
    ]
  },
  {
    "__docId__": 223,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/utils/error.js~BlushError",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/error.js~BlushError#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 3,
    "undocument": true
  },
  {
    "__docId__": 224,
    "kind": "member",
    "name": "errno",
    "memberof": "src/utils/error.js~BlushError",
    "static": false,
    "longname": "src/utils/error.js~BlushError#errno",
    "access": "public",
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 225,
    "kind": "file",
    "name": "src/utils/locate-command.js",
    "content": "const BlushError = require('./error.js');\nconst glob = require('glob');\nconst path = require('path');\nconst log = require('./debug')('blush:locate-command');\nconst fs = require('fs');\n\nmodule.exports = function locateCommand (name, local, ctx)\n{\n  let pattern;\n  let isFile = local;\n\n  if (local) { pattern = path.resolve(ctx.cwd, name) }\n  else if (/^(~|\\/)/.test(name)) {\n    isFile = true;\n    pattern = name;\n  }\n  else {\n    paths = ctx.env.PATH.split(path.delimiter);\n    pattern = '{'+paths.map((p) => path.resolve(p, name)).join(',')+'}';\n  }\n\n  const result = glob.sync(pattern)[0];\n\n  if (result) {\n    const stats = fs.statSync(result);\n\n    if (stats.isFile()) {\n      try { fs.accessSync(result, fs.constants.X_OK) }\n      catch (err) { throw new BlushError(`permission denied`, 126) }\n      return result;\n    }\n\n    if (stats.isDirectory()) { throw new BlushError(`is a directory`, 126) }\n  }\n\n  if (isFile) { throw new BlushError(`no such file or directory`, 127) }\n\n  throw new BlushError(`command not found`, 127)\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/utils/locate-command.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 226,
    "kind": "variable",
    "name": "BlushError",
    "memberof": "src/utils/locate-command.js",
    "static": true,
    "longname": "src/utils/locate-command.js~BlushError",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/locate-command.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 227,
    "kind": "variable",
    "name": "glob",
    "memberof": "src/utils/locate-command.js",
    "static": true,
    "longname": "src/utils/locate-command.js~glob",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/locate-command.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 228,
    "kind": "variable",
    "name": "path",
    "memberof": "src/utils/locate-command.js",
    "static": true,
    "longname": "src/utils/locate-command.js~path",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/locate-command.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 229,
    "kind": "variable",
    "name": "log",
    "memberof": "src/utils/locate-command.js",
    "static": true,
    "longname": "src/utils/locate-command.js~log",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/locate-command.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 230,
    "kind": "variable",
    "name": "fs",
    "memberof": "src/utils/locate-command.js",
    "static": true,
    "longname": "src/utils/locate-command.js~fs",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/locate-command.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 231,
    "kind": "function",
    "name": "locateCommand",
    "memberof": "src/utils/locate-command.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/locate-command.js~locateCommand",
    "access": "public",
    "export": true,
    "importPath": "blush/src/utils/locate-command.js",
    "importStyle": "locateCommand",
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      },
      {
        "name": "local",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 232,
    "kind": "file",
    "name": "src/utils/parse-exit-code.js",
    "content": "const os = require('os');\n\nmodule.exports = function parseExitCode (err)\n{\n  if (!isNaN(err)) { return err }\n  else if (typeof err === 'string') {\n    const code = os.constants.signals[err] + 128;\n    return code;\n  }\n  else if (err.errno) {\n    let code = err.errno;\n    if (typeof code === 'string') { code = os.constants.errno[code] }\n    return code;\n  }\n  return -1;\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/utils/parse-exit-code.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 233,
    "kind": "variable",
    "name": "os",
    "memberof": "src/utils/parse-exit-code.js",
    "static": true,
    "longname": "src/utils/parse-exit-code.js~os",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/parse-exit-code.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 234,
    "kind": "function",
    "name": "parseExitCode",
    "memberof": "src/utils/parse-exit-code.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/parse-exit-code.js~parseExitCode",
    "access": "public",
    "export": true,
    "importPath": "blush/src/utils/parse-exit-code.js",
    "importStyle": "parseExitCode",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [
      {
        "name": "err",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 235,
    "kind": "file",
    "name": "src/utils/printer.js",
    "content": "const IO = require('../io');\nconst log = require('./debug')('blush:print');\nconst errno = require('errno');\n\nmodule.exports = class Printer\n{\n  constructor ({\n    stdio = new IO,\n    formatOut = Printer.formatOut,\n    formatErr = Printer.formatErr,\n  }={})\n  {\n    this.stdio = stdio;\n    this.formatOut = formatOut;\n    this.formatErr = formatErr;\n  }\n\n  out (...args)\n  {\n    stdio[1].write(this.formatOut(...args));\n  }\n\n  err (...args)\n  {\n    stdio[2].write(this.formatErr(...args));\n  }\n\n  static out ({\n    stdio = new IO,\n    formatOut = Printer.formatOut,\n  } = {}, ...args)\n  {\n    stdio[1].write(formatOut(...args));\n  }\n\n  static err ({\n    stdio = new IO,\n    formatErr = Printer.formatErr,\n  } = {}, ...args)\n  {\n    stdio[2].write(formatErr(...args));\n  }\n\n  static formatOut (...args)\n  {\n    return args.map((value) => {\n      if (value && typeof value === 'object') { return JSON.stringify(value, null, 2) }\n      return value;\n    }).join('\\n')+'\\n';\n  }\n\n  static formatErr (...args)\n  {\n    return args\n    .filter((value) => !(value && typeof value === 'object' && value.wasPrinted))\n    .map((value) => {\n      if (value && typeof value === 'object') { value.wasPrinted = true };\n\n      if (value instanceof Error) {\n        let message = value.message;\n\n        if (value.syscall) message = Printer.formatSystemError(value);\n\n        return `blush:${value.source ? ' '+value.source+':' : ''} ${message}\\n`;\n      }\n\n      if (typeof value === 'string') { return `blush: ${arg}` }\n    }).join('\\n');\n  }\n\n  static formatSystemError (err)\n  {\n    let msg;\n    switch (err.code) {\n      case 'E2BIG':\n        msg = 'argument list too long'; break;\n      default:\n        msg = errno.code[err.code].description; break;\n    }\n    if (err.path) { msg = err.path + ': ' + msg }\n    return msg;\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/utils/printer.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 236,
    "kind": "variable",
    "name": "IO",
    "memberof": "src/utils/printer.js",
    "static": true,
    "longname": "src/utils/printer.js~IO",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/printer.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 237,
    "kind": "variable",
    "name": "log",
    "memberof": "src/utils/printer.js",
    "static": true,
    "longname": "src/utils/printer.js~log",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/printer.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 238,
    "kind": "variable",
    "name": "errno",
    "memberof": "src/utils/printer.js",
    "static": true,
    "longname": "src/utils/printer.js~errno",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/printer.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 239,
    "kind": "class",
    "name": "Printer",
    "memberof": "src/utils/printer.js",
    "static": true,
    "longname": "src/utils/printer.js~Printer",
    "access": "public",
    "export": true,
    "importPath": "blush/src/utils/printer.js",
    "importStyle": "Printer",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false
  },
  {
    "__docId__": 240,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/utils/printer.js~Printer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/printer.js~Printer#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 241,
    "kind": "member",
    "name": "stdio",
    "memberof": "src/utils/printer.js~Printer",
    "static": false,
    "longname": "src/utils/printer.js~Printer#stdio",
    "access": "public",
    "description": null,
    "lineNumber": 13,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 242,
    "kind": "member",
    "name": "formatOut",
    "memberof": "src/utils/printer.js~Printer",
    "static": false,
    "longname": "src/utils/printer.js~Printer#formatOut",
    "access": "public",
    "description": null,
    "lineNumber": 14,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 243,
    "kind": "member",
    "name": "formatErr",
    "memberof": "src/utils/printer.js~Printer",
    "static": false,
    "longname": "src/utils/printer.js~Printer#formatErr",
    "access": "public",
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 244,
    "kind": "method",
    "name": "out",
    "memberof": "src/utils/printer.js~Printer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/printer.js~Printer#out",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": null
  },
  {
    "__docId__": 245,
    "kind": "method",
    "name": "err",
    "memberof": "src/utils/printer.js~Printer",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/utils/printer.js~Printer#err",
    "access": "public",
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": null
  },
  {
    "__docId__": 246,
    "kind": "method",
    "name": "out",
    "memberof": "src/utils/printer.js~Printer",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/printer.js~Printer.out",
    "access": "public",
    "description": null,
    "lineNumber": 28,
    "undocument": true,
    "params": [
      {
        "name": "objectPattern",
        "optional": true,
        "types": [
          "{\"stdio\": *, \"formatOut\": *}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": null
  },
  {
    "__docId__": 247,
    "kind": "method",
    "name": "err",
    "memberof": "src/utils/printer.js~Printer",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/printer.js~Printer.err",
    "access": "public",
    "description": null,
    "lineNumber": 36,
    "undocument": true,
    "params": [
      {
        "name": "objectPattern",
        "optional": true,
        "types": [
          "{\"stdio\": *, \"formatErr\": *}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      },
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": null
  },
  {
    "__docId__": 248,
    "kind": "method",
    "name": "formatOut",
    "memberof": "src/utils/printer.js~Printer",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/printer.js~Printer.formatOut",
    "access": "public",
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 249,
    "kind": "method",
    "name": "formatErr",
    "memberof": "src/utils/printer.js~Printer",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/printer.js~Printer.formatErr",
    "access": "public",
    "description": null,
    "lineNumber": 52,
    "undocument": true,
    "params": [
      {
        "name": "args",
        "types": [
          "...*"
        ],
        "spread": true
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 250,
    "kind": "method",
    "name": "formatSystemError",
    "memberof": "src/utils/printer.js~Printer",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/printer.js~Printer.formatSystemError",
    "access": "public",
    "description": null,
    "lineNumber": 71,
    "undocument": true,
    "params": [
      {
        "name": "err",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 251,
    "kind": "file",
    "name": "src/utils/read-shebang.js",
    "content": "const fs = require('fs');\n\nmodule.exports = async function readShebang (path)\n{\n  return await new Promise((res, rej) => {\n    const rs = fs.createReadStream(path, {encoding: 'utf8'});\n    let acc = '';\n    let pos = 0;\n    let isShebang = true;\n    let index;\n    rs\n    .on('data', function (chunk) {\n      index = chunk.indexOf('\\n');\n      acc += chunk;\n      if (!/\\s*(#!)?/.test(acc)) { rs.close(); return; }\n      index !== -1 ? rs.close() : pos += chunk.length;\n    })\n    .on('close', function () {\n      let result = acc.slice(0, pos + index).trim();\n      if (/^#!/.test(result)) { return res(result.slice(2)) }\n      res(null);\n    })\n    .on('error', function (err) {\n      rej(err);\n    })\n  });\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/utils/read-shebang.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 252,
    "kind": "variable",
    "name": "fs",
    "memberof": "src/utils/read-shebang.js",
    "static": true,
    "longname": "src/utils/read-shebang.js~fs",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/read-shebang.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 253,
    "kind": "function",
    "name": "readShebang",
    "memberof": "src/utils/read-shebang.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/utils/read-shebang.js~readShebang",
    "access": "public",
    "export": true,
    "importPath": "blush/src/utils/read-shebang.js",
    "importStyle": "readShebang",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [
      {
        "name": "path",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 254,
    "kind": "file",
    "name": "src/word.js",
    "content": "const BlushError = require('./utils/error');\nconst log = require('./utils/debug')('blush:word');\nconst path = require('path');\nconst os = require('os');\n\nconst $ = exports;\n\n$.evaluate = async function evaluate (word, ctx)\n{\n  if (word instanceof Array) {\n    let result = '';\n    for (let part of word) {\n      try { result += await $.evaluate(part, ctx) }\n      catch (err) { break }\n    }\n    return result;\n  }\n\n  const type = word.type && word.type.toLowerCase();\n\n  if (!(type in $)) {\n    return log('node type \\'%s\\' not implemented', word.type);\n  }\n  return await $[type](word, ctx);\n}\n\n$.word = async function word (word, ctx)\n{\n  return $.expand(word.value, ctx);\n}\n\n$.dstr = async function string (word, ctx)\n{\n  let out = '';\n  for (let part of word.parts) { out += await $.evaluate(part, ctx) }\n  return await $.expand_env(out, ctx);\n}\n\n$.dstr_string =\n$.sstr =\n$.estr = async function string (word, ctx)\n{\n  return word.value;\n}\n\n$.loose_word = async function loose_word (word, ctx)\n{\n  let out = '';\n  for (let part of word.parts) { out += await $.evaluate(part, ctx) }\n  return out;\n}\n\n$.dstr_sub_word = async function dstr_sub_word (word, ctx)\n{\n  const exec = require('./exec');\n  let out = await exec(word.list, ctx);\n  return out.replace(/\\s+$/, '');\n}\n\n$.sub_word = async function sub_word (word, ctx)\n{\n  const exec = require('./exec');\n  let out = await exec(word.list, ctx);\n  return out.replace(/\\s+$/, '').replace(/\\s+/g, ' ');\n}\n\n$.js_word = async function js_word (word, ctx)\n{\n  const vm = require('vm');\n  const filename = typeof ctx.filename === 'string' ? ctx.filename : ctx.cwd + '/VM.js';\n  const dirname = path.dirname(filename);\n\n  const mod = new module.constructor(filename);\n  mod.paths = [path.posix.resolve(filename, '../node_modules')];\n  let p = mod.paths[0];\n\n  // TODO: This seems dangerous\n  while (p !== '/node_modules') {\n    p = path.posix.resolve(p, '../../node_modules');\n    mod.paths.push(p);\n  }\n\n  mod.filename = filename;\n\n  const req = mod._compile('return require', filename);\n  const sandbox = vm.createContext({\n    require: req,\n  });\n\n  const code = await $.expand(word.value, ctx);\n  try {\n    const result = vm.runInContext(code, sandbox, {breakOnSigint: true});\n    if (typeof result === 'undefined') return '';\n    return result+'';\n  }\n  catch (vmerr) {\n    const err = new BlushError(vmerr && vmerr.message || vmerr, {source: 'javascript', errno: 1});\n    err.stack = vmerr.stack;\n    throw err;\n  }\n}\n\n// $._js_word = async function js_word (word, ctx)\n// {\n//   const {NodeVM} = require('vm2');\n//   const filename = typeof ctx.filename === 'string' ? ctx.filename : ctx.cwd + '/VM.js';\n//   const dirname = path.dirname(filename);\n//   const vm = new NodeVM({\n//     console: 'off',\n//     sandbox: {},\n//     require: {\n//       external: true,\n//       builtin: ['*'],\n//       context: 'sandbox',\n//     },\n//     wrapper: 'none',\n//   });\n\n//   try {\n//     const result = (vm.run(await $.expand(word.value, ctx), filename))+'';\n//     return result;\n//   }\n//   catch (vmerr) {\n//     const err = new BlushError(vmerr.message, {source: 'javascript', errno: 1});\n//     err.stack = vmerr.stack;\n//     throw err;\n//   }\n// }\n\n$.expand = async function (str, ctx)\n{\n  str = await $.expand_tilde(str, ctx);\n  str = await $.expand_env(str, ctx);\n  return str;\n}\n\n$.expand_env = async function (str, ctx)\n{\n  return str\n  // .replace(/\\$\\?/g, () => ctx.exitCode)\n  .replace(/\\$([a-zA-Z_][a-zA-Z0-9_]*|\\?)/g, (match) => {\n    const name = match.slice(1);\n    return name in ctx.env ? ctx.env[name] : '';\n  })\n  .replace(/\\$\\{([a-zA-Z_][a-zA-Z0-9_]*|\\?)\\}/g, (match) => {\n    const name = match.slice(2, -1);\n    return name in ctx.env ? ctx.env[name] : '';\n  });\n}\n\n$.expand_tilde = async function (str, ctx)\n{\n  return str.replace(/^~/, os.homedir());\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/word.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 255,
    "kind": "variable",
    "name": "BlushError",
    "memberof": "src/word.js",
    "static": true,
    "longname": "src/word.js~BlushError",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 256,
    "kind": "variable",
    "name": "log",
    "memberof": "src/word.js",
    "static": true,
    "longname": "src/word.js~log",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 257,
    "kind": "variable",
    "name": "path",
    "memberof": "src/word.js",
    "static": true,
    "longname": "src/word.js~path",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 258,
    "kind": "variable",
    "name": "os",
    "memberof": "src/word.js",
    "static": true,
    "longname": "src/word.js~os",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 259,
    "kind": "variable",
    "name": "$",
    "memberof": "src/word.js",
    "static": true,
    "longname": "src/word.js~$",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 260,
    "kind": "function",
    "name": "evaluate",
    "memberof": "src/word.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/word.js~evaluate",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "params": [
      {
        "name": "word",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 261,
    "kind": "function",
    "name": "word",
    "memberof": "src/word.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/word.js~word",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "params": [
      {
        "name": "word",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 262,
    "kind": "function",
    "name": "dstr",
    "memberof": "src/word.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/word.js~dstr",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "params": [
      {
        "name": "word",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 263,
    "kind": "function",
    "name": "loose_word",
    "memberof": "src/word.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/word.js~loose_word",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 46,
    "undocument": true,
    "params": [
      {
        "name": "word",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 264,
    "kind": "function",
    "name": "dstr_sub_word",
    "memberof": "src/word.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/word.js~dstr_sub_word",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 53,
    "undocument": true,
    "params": [
      {
        "name": "word",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 265,
    "kind": "function",
    "name": "sub_word",
    "memberof": "src/word.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/word.js~sub_word",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "params": [
      {
        "name": "word",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 266,
    "kind": "function",
    "name": "js_word",
    "memberof": "src/word.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/word.js~js_word",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 67,
    "undocument": true,
    "params": [
      {
        "name": "word",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 267,
    "kind": "function",
    "name": "expand",
    "memberof": "src/word.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/word.js~expand",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 130,
    "undocument": true,
    "params": [
      {
        "name": "str",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 268,
    "kind": "function",
    "name": "expand_env",
    "memberof": "src/word.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/word.js~expand_env",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 137,
    "undocument": true,
    "params": [
      {
        "name": "str",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 269,
    "kind": "function",
    "name": "expand_tilde",
    "memberof": "src/word.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/word.js~expand_tilde",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 151,
    "undocument": true,
    "params": [
      {
        "name": "str",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "kind": "index",
    "content": "# Blush\n",
    "longname": "/mnt/fast/Projects/blush/README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"blush\",\n  \"version\": \"0.0.0\",\n  \"description\": \"Basic little universal shell\",\n  \"license\": \"MIT\",\n  \"author\": \"Aaron Levine <ald.levine@gmail.com>\",\n  \"bin\": { \"blush\": \"src/index.js\" },\n  \"scripts\": {\n    \"build\": \"ez build\",\n    \"precommit\": \"ez precommit\",\n    \"commitmsg\": \"ez commitmsg\",\n    \"docs\": \"ez docs\",\n    \"link\": \"ez link\",\n    \"test\": \"ez test\",\n    \"update\": \"ez update\",\n    \"version\": \"ez version\"\n  },\n  \"config\": { \"commitizen\": { \"path\": \"./node_modules/cz-conventional-changelog\" } },\n  \"dependencies\": {\n    \"chalk\": \"^2.3.0\",\n    \"debug\": \"^3.1.0\",\n    \"errno\": \"^0.1.4\",\n    \"glob\": \"^7.1.2\",\n    \"nearley\": \"^2.11.0\"\n  },\n  \"devDependencies\": {\n    \"@commitlint/cli\": \"^4.3.0\",\n    \"@commitlint/config-angular\": \"^4.3.0\",\n    \"chai\": \"^4.1.2\",\n    \"comptroller\": \"^0.3.0\",\n    \"conventional-changelog-cli\": \"^1.3.4\",\n    \"cz-conventional-changelog\": \"^2.1.0\",\n    \"esdoc\": \"^1.0.4\",\n    \"esdoc-ecmascript-proposal-plugin\": \"^1.0.0\",\n    \"esdoc-node\": \"^1.0.2\",\n    \"esdoc-standard-plugin\": \"^1.0.0\",\n    \"husky\": \"^0.14.3\",\n    \"jison\": \"^0.4.18\",\n    \"jison-gho\": \"^0.6.1-209\",\n    \"js-beautify\": \"^1.7.4\",\n    \"mocha\": \"^4.0.1\",\n    \"moo\": \"^0.4.3\",\n    \"nyc\": \"^11.3.0\",\n    \"scripteasy\": \"0.0.5\",\n    \"slashes\": \"^1.0.5\",\n    \"unescape-js\": \"^1.1.0\"\n  },\n  \"comptroller\": {\n    \"source\": \"src/**/*.js\",\n    \"dev\": \"test/**/*\",\n    \"pretty\": 80,\n    \"detective\": { \"parse\": { \"plugins\": [ \"objectRestSpread\" ] } },\n    \"ignore\": [ \"slashes\", \"unescape-js\" ]\n  },\n  \"scripteasy\": \"scripts.yml\"\n}",
    "longname": "/mnt/fast/Projects/blush/package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]