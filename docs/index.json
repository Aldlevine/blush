[
  {
    "__docId__": 1,
    "kind": "external",
    "name": "Infinity",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Infinity",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Infinity",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 2,
    "kind": "external",
    "name": "NaN",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/NaN",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~NaN",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 3,
    "kind": "external",
    "name": "undefined",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/undefined",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~undefined",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 4,
    "kind": "external",
    "name": "null",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/null",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~null",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 5,
    "kind": "external",
    "name": "Object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 6,
    "kind": "external",
    "name": "object",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~object",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 7,
    "kind": "external",
    "name": "Function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 8,
    "kind": "external",
    "name": "function",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~function",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 9,
    "kind": "external",
    "name": "Boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 10,
    "kind": "external",
    "name": "boolean",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~boolean",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 11,
    "kind": "external",
    "name": "Symbol",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Symbol",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 12,
    "kind": "external",
    "name": "Error",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Error",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 13,
    "kind": "external",
    "name": "EvalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/EvalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~EvalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 14,
    "kind": "external",
    "name": "InternalError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/InternalError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~InternalError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 15,
    "kind": "external",
    "name": "RangeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RangeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RangeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 16,
    "kind": "external",
    "name": "ReferenceError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ReferenceError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ReferenceError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 17,
    "kind": "external",
    "name": "SyntaxError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SyntaxError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~SyntaxError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 18,
    "kind": "external",
    "name": "TypeError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/TypeError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~TypeError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 19,
    "kind": "external",
    "name": "URIError",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/URIError",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~URIError",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 20,
    "kind": "external",
    "name": "Number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 21,
    "kind": "external",
    "name": "number",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~number",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 22,
    "kind": "external",
    "name": "Date",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Date",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 23,
    "kind": "external",
    "name": "String",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~String",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 24,
    "kind": "external",
    "name": "string",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~string",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 25,
    "kind": "external",
    "name": "RegExp",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~RegExp",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 26,
    "kind": "external",
    "name": "Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 27,
    "kind": "external",
    "name": "Int8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 28,
    "kind": "external",
    "name": "Uint8Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 29,
    "kind": "external",
    "name": "Uint8ClampedArray",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint8ClampedArray",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint8ClampedArray",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 30,
    "kind": "external",
    "name": "Int16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 31,
    "kind": "external",
    "name": "Uint16Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint16Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint16Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 32,
    "kind": "external",
    "name": "Int32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Int32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Int32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 33,
    "kind": "external",
    "name": "Uint32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Uint32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Uint32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 34,
    "kind": "external",
    "name": "Float32Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float32Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float32Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 35,
    "kind": "external",
    "name": "Float64Array",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Float64Array",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Float64Array",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 36,
    "kind": "external",
    "name": "Map",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Map",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 37,
    "kind": "external",
    "name": "Set",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Set",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 38,
    "kind": "external",
    "name": "WeakMap",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakMap",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 39,
    "kind": "external",
    "name": "WeakSet",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~WeakSet",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 40,
    "kind": "external",
    "name": "ArrayBuffer",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~ArrayBuffer",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 41,
    "kind": "external",
    "name": "DataView",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DataView",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~DataView",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 42,
    "kind": "external",
    "name": "JSON",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~JSON",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 43,
    "kind": "external",
    "name": "Promise",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Promise",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 44,
    "kind": "external",
    "name": "Generator",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Generator",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Generator",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 45,
    "kind": "external",
    "name": "GeneratorFunction",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/GeneratorFunction",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~GeneratorFunction",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 46,
    "kind": "external",
    "name": "Reflect",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Reflect",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Reflect",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 47,
    "kind": "external",
    "name": "Proxy",
    "externalLink": "https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy",
    "memberof": "src/.external-ecmascript.js",
    "static": true,
    "longname": "src/.external-ecmascript.js~Proxy",
    "access": "public",
    "description": "",
    "builtinExternal": true
  },
  {
    "__docId__": 48,
    "kind": "file",
    "name": "src/builtins/alias.js",
    "content": "const Builtin = require('./builtin');\n\nconst aliases = {};\n\nexports.alias = class Alias extends Builtin\n{\n  constructor (name, args, opts)\n  {\n    super(name, args, opts);\n    let exitCode = 0;\n\n    if (args.length == 0) {\n      for (let name in aliases) {\n        this._stdout.write(`${name}='${aliases[name]}'\\n`);\n      }\n    }\n    else {\n      for (let arg of args) {\n        let [name, ...value] = arg.split('=');\n        value = value.join('=');\n\n        if (value.length == 0) {\n          value = exports.alias.getAlias(name);\n          if (value) {\n            this._stdout.write(`${name}='${value}'\\n`);\n          }\n          else {\n            exitCode = 1;\n          }\n        }\n        else {\n          exports.alias.createAlias(name, value);\n        }\n      }\n    }\n    process.nextTick(() => this.emit('exit', exitCode));\n  }\n\n  static createAlias (name, value)\n  {\n    aliases[name] = value;\n  }\n\n  static getAlias (name)\n  {\n    return aliases[name];\n  }\n\n  static removeAlias (name)\n  {\n    if (!(name in aliases)) {\n      return false;\n    }\n    delete aliases[name];\n    return true;\n  }\n}\n\n\nexports.unalias = class Unalias extends Builtin\n{\n  constructor (name, args, opts)\n  {\n    super(name, args, opts);\n    let exitCode = 0;\n\n    if (args.length == 0) {\n      this._stderr.write(`unalias: not enough arguments\\n`);\n      exitCode = 1;\n    }\n    else {\n      for (let arg of args) {\n        if (!exports.alias.removeAlias(arg)) {\n          this._stderr.write(`unalias: no such alias ${arg}\\n`);\n          exitCode = 1;\n        }\n      }\n    }\n    process.nextTick(() => this.emit('exit', exitCode));\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/alias.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 49,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/alias.js",
    "static": true,
    "longname": "src/builtins/alias.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/alias.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 50,
    "kind": "variable",
    "name": "aliases",
    "memberof": "src/builtins/alias.js",
    "static": true,
    "longname": "src/builtins/alias.js~aliases",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/alias.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "{}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 51,
    "kind": "class",
    "name": "alias",
    "memberof": "src/builtins/alias.js",
    "static": true,
    "longname": "src/builtins/alias.js~alias",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/alias.js",
    "importStyle": "{alias}",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 52,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/alias.js~alias",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/alias.js~alias#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 53,
    "kind": "method",
    "name": "createAlias",
    "memberof": "src/builtins/alias.js~alias",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/builtins/alias.js~alias.createAlias",
    "access": "public",
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      },
      {
        "name": "value",
        "types": [
          "*"
        ]
      }
    ],
    "return": null
  },
  {
    "__docId__": 54,
    "kind": "method",
    "name": "getAlias",
    "memberof": "src/builtins/alias.js~alias",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/builtins/alias.js~alias.getAlias",
    "access": "public",
    "description": null,
    "lineNumber": 44,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 55,
    "kind": "method",
    "name": "removeAlias",
    "memberof": "src/builtins/alias.js~alias",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/builtins/alias.js~alias.removeAlias",
    "access": "public",
    "description": null,
    "lineNumber": 49,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "boolean"
      ]
    }
  },
  {
    "__docId__": 56,
    "kind": "class",
    "name": "unalias",
    "memberof": "src/builtins/alias.js",
    "static": true,
    "longname": "src/builtins/alias.js~unalias",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/alias.js",
    "importStyle": "{unalias}",
    "description": null,
    "lineNumber": 60,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 57,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/alias.js~unalias",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/alias.js~unalias#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 62,
    "undocument": true
  },
  {
    "__docId__": 58,
    "kind": "file",
    "name": "src/builtins/builtin.js",
    "content": "const EventEmitter = require('events');\nconst {PassThrough} = require('stream');\n\nmodule.exports = class Builtin extends EventEmitter\n{\n  constructor (name, args, opts)\n  {\n    super();\n    Object.assign(this, {\n      cwd: process.cwd(),\n      env: process.env,\n      stdio: ['pipe','pipe','pipe']\n    }, opts);\n\n    this.stdio[0] = this.stdin = this.stdio[0] == 'pipe' ?\n      new PassThrough() : null;\n\n    this.stdio[1] = this.stdout = this.stdio[1] == 'pipe' ?\n      new PassThrough() : null;\n\n    this.stdio[2] = this.stderr = this.stdio[2] == 'pipe' ?\n      new PassThrough() : null;\n\n    this._stdin = this.stdin || process.stdin;\n    this._stdout = this.stdout || process.stdout;\n    this._stderr = this.stderr || process.stderr;\n\n    this.on('exit', () => {\n      this.stdin && this.stdin.end();\n      this.stdout && this.stdout.end();\n      this.stderr && this.stderr.end();\n    });\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/builtin.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 59,
    "kind": "variable",
    "name": "EventEmitter",
    "memberof": "src/builtins/builtin.js",
    "static": true,
    "longname": "src/builtins/builtin.js~EventEmitter",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/builtin.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 60,
    "kind": "variable",
    "name": "PassThrough",
    "memberof": "src/builtins/builtin.js",
    "static": true,
    "longname": "src/builtins/builtin.js~PassThrough",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/builtin.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 61,
    "kind": "class",
    "name": "Builtin",
    "memberof": "src/builtins/builtin.js",
    "static": true,
    "longname": "src/builtins/builtin.js~Builtin",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/builtin.js",
    "importStyle": "Builtin",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "interface": false,
    "extends": [
      "EventEmitter"
    ]
  },
  {
    "__docId__": 62,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/builtin.js~Builtin",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 6,
    "undocument": true
  },
  {
    "__docId__": 63,
    "kind": "member",
    "name": "_stdin",
    "memberof": "src/builtins/builtin.js~Builtin",
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#_stdin",
    "access": "private",
    "description": null,
    "lineNumber": 24,
    "undocument": true,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 64,
    "kind": "member",
    "name": "_stdout",
    "memberof": "src/builtins/builtin.js~Builtin",
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#_stdout",
    "access": "private",
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 65,
    "kind": "member",
    "name": "_stderr",
    "memberof": "src/builtins/builtin.js~Builtin",
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#_stderr",
    "access": "private",
    "description": null,
    "lineNumber": 26,
    "undocument": true,
    "ignore": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 66,
    "kind": "member",
    "name": "stdin",
    "memberof": "src/builtins/builtin.js~Builtin",
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#stdin",
    "access": "public",
    "description": null,
    "lineNumber": 29,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 67,
    "kind": "member",
    "name": "stdout",
    "memberof": "src/builtins/builtin.js~Builtin",
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#stdout",
    "access": "public",
    "description": null,
    "lineNumber": 30,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 68,
    "kind": "member",
    "name": "stderr",
    "memberof": "src/builtins/builtin.js~Builtin",
    "static": false,
    "longname": "src/builtins/builtin.js~Builtin#stderr",
    "access": "public",
    "description": null,
    "lineNumber": 31,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 69,
    "kind": "file",
    "name": "src/builtins/cd.js",
    "content": "const Builtin = require('./builtin');\n\nmodule.exports = class Cd extends Builtin\n{\n  constructor (name, args, opts)\n  {\n    super(name, args, opts);\n    process.chdir(args.join(' '));\n    process.nextTick(() => this.emit('exit', 0));\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/cd.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 70,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/cd.js",
    "static": true,
    "longname": "src/builtins/cd.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/cd.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 71,
    "kind": "class",
    "name": "Cd",
    "memberof": "src/builtins/cd.js",
    "static": true,
    "longname": "src/builtins/cd.js~Cd",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/cd.js",
    "importStyle": "Cd",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 72,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/cd.js~Cd",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/cd.js~Cd#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 73,
    "kind": "file",
    "name": "src/builtins/exit.js",
    "content": "const Builtin = require('./builtin');\n\nmodule.exports = class Exit extends Builtin\n{\n  constructor (name, args, opts)\n  {\n    super(name, args, opts);\n\n    if (args.length > 1) {\n      this._stdout.write('exit: too many arguments');\n    }\n    else {\n      const exitCode = args[0] || 0;\n      process.nextTick(() => process.exit(exitCode));\n    }\n  }\n}\n\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/exit.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 74,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/exit.js",
    "static": true,
    "longname": "src/builtins/exit.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/exit.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 75,
    "kind": "class",
    "name": "Exit",
    "memberof": "src/builtins/exit.js",
    "static": true,
    "longname": "src/builtins/exit.js~Exit",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/exit.js",
    "importStyle": "Exit",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 76,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/exit.js~Exit",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/exit.js~Exit#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 5,
    "undocument": true
  },
  {
    "__docId__": 77,
    "kind": "file",
    "name": "src/builtins/index.js",
    "content": "exports.cd = require('./cd');\nexports.which = require('./which');\n\nconst {alias, unalias} = require('./alias');\nexports.alias = alias;\nexports.unalias = unalias;\n\nexports.source = require('./source');\nexports.exit = require('./exit');\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 78,
    "kind": "variable",
    "name": "cd",
    "memberof": "src/builtins/index.js",
    "static": true,
    "longname": "src/builtins/index.js~cd",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/index.js",
    "importStyle": "{cd}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 79,
    "kind": "variable",
    "name": "which",
    "memberof": "src/builtins/index.js",
    "static": true,
    "longname": "src/builtins/index.js~which",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/index.js",
    "importStyle": "{which}",
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 80,
    "kind": "variable",
    "name": "alias",
    "memberof": "src/builtins/index.js",
    "static": true,
    "longname": "src/builtins/index.js~alias",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 81,
    "kind": "variable",
    "name": "source",
    "memberof": "src/builtins/index.js",
    "static": true,
    "longname": "src/builtins/index.js~source",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/index.js",
    "importStyle": "{source}",
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 82,
    "kind": "variable",
    "name": "exit",
    "memberof": "src/builtins/index.js",
    "static": true,
    "longname": "src/builtins/index.js~exit",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/index.js",
    "importStyle": "{exit}",
    "description": null,
    "lineNumber": 9,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 83,
    "kind": "file",
    "name": "src/builtins/source.js",
    "content": "const Builtin = require('./builtin');\nconst parse = require('../parse');\nconst parseExitCode = require('../utils/parse-exit-code');\n\nmodule.exports = class Source extends Builtin\n{\n  constructor (name, args, opts)\n  {\n    super(name, args, opts);\n\n    const {evaluate} = require('../eval');\n\n    let exitCode = 0;\n\n    if (args.length == 0) {\n      this._stderr.write('source: not enough arguments\\n');\n      process.nextTick(() => this.emit('exit', 1));\n    }\n    else {\n      let ast = parse.file(args[0]);\n      evaluate(ast)\n      .then(() => {\n        process.nextTick(() => this.emit('exit', 0));\n      }, (err) => {\n        process.nextTick(() => this.emit(err));\n      })\n    }\n\n  }\n}\n\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/source.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 84,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/source.js",
    "static": true,
    "longname": "src/builtins/source.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/source.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 85,
    "kind": "variable",
    "name": "parse",
    "memberof": "src/builtins/source.js",
    "static": true,
    "longname": "src/builtins/source.js~parse",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/source.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 86,
    "kind": "variable",
    "name": "parseExitCode",
    "memberof": "src/builtins/source.js",
    "static": true,
    "longname": "src/builtins/source.js~parseExitCode",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/source.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 87,
    "kind": "class",
    "name": "Source",
    "memberof": "src/builtins/source.js",
    "static": true,
    "longname": "src/builtins/source.js~Source",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/source.js",
    "importStyle": "Source",
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 88,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/source.js~Source",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/source.js~Source#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 7,
    "undocument": true
  },
  {
    "__docId__": 89,
    "kind": "file",
    "name": "src/builtins/which.js",
    "content": "const Builtin = require('./builtin');\nconst {alias} = require('./alias');\nconst glob = require('glob');\nconst path = require('path');\n\nmodule.exports = class Which extends Builtin\n{\n  constructor (name, args, opts)\n  {\n    super(name, args, opts);\n    const builtins = require('./index');\n    const cmdopts = {\n      all: false,\n      patterns: false,\n      path: false,\n      resolveSymlink: false,\n      commandType: false,\n    }\n    const commands = [];\n    const paths = process.env.PATH.split(path.delimiter);\n    let exitCode = 0;\n\n    for (let arg of args) {\n      switch (arg) {\n        case '-a': cmdopts.all = true; break;\n        case '-m': cmdopts.patterns = true; break;\n        case '-p': cmdopts.path = true; break;\n        case '-s': cmdopts.resolveSymlink = true; break;\n        case '-w': cmdopts.commandType = true; break;\n        default:\n          if (arg.charAt(0) == '-') {\n            this._stderr.write(`which: bad option: ${arg}\\n`);\n            exitCode = 1;\n            break;\n          }\n          commands.push(arg);\n      }\n    }\n\n    if (!exitCode) {\n      for (let cmd of commands) {\n        let aliasValue = alias.getAlias(cmd);\n        if (aliasValue) {\n          this._stdout.write(`${cmd}: aliased to ${aliasValue}\\n`);\n\n          if (!cmdopts.all) continue;\n        }\n        if (cmd in builtins) {\n          this._stdout.write(`${cmd}: shell built-in command\\n`);\n\n          if (!cmdopts.all) continue;\n        }\n        const pattern = '{'+paths.map((p) => path.join(p, cmd)).join(',')+'}';\n        const result = glob.sync(pattern);\n        if (result.length > 0) {\n          if (cmdopts.all) {\n            result.map((p) => this._stdout.write(p+'\\n'));\n          }\n          else {\n            this._stdout.write(result[0]+'\\n');\n          }\n        }\n        else {\n          this._stderr.write(`${cmd} not found\\n`);\n          exitCode = 1;\n        }\n      }\n    }\n\n    process.nextTick(() => this.emit('exit', exitCode));\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/builtins/which.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 90,
    "kind": "variable",
    "name": "Builtin",
    "memberof": "src/builtins/which.js",
    "static": true,
    "longname": "src/builtins/which.js~Builtin",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/which.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 91,
    "kind": "variable",
    "name": "alias",
    "memberof": "src/builtins/which.js",
    "static": true,
    "longname": "src/builtins/which.js~alias",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/which.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 92,
    "kind": "variable",
    "name": "glob",
    "memberof": "src/builtins/which.js",
    "static": true,
    "longname": "src/builtins/which.js~glob",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/which.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 93,
    "kind": "variable",
    "name": "path",
    "memberof": "src/builtins/which.js",
    "static": true,
    "longname": "src/builtins/which.js~path",
    "access": "public",
    "export": false,
    "importPath": "blush/src/builtins/which.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 94,
    "kind": "class",
    "name": "Which",
    "memberof": "src/builtins/which.js",
    "static": true,
    "longname": "src/builtins/which.js~Which",
    "access": "public",
    "export": true,
    "importPath": "blush/src/builtins/which.js",
    "importStyle": "Which",
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "interface": false,
    "extends": [
      "Builtin"
    ]
  },
  {
    "__docId__": 95,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/builtins/which.js~Which",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/builtins/which.js~Which#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 8,
    "undocument": true
  },
  {
    "__docId__": 96,
    "kind": "file",
    "name": "src/eval.js",
    "content": "const $ = exports;\nconst locateCommand = require('./utils/locate-command');\nconst parseExitCode = require('./utils/parse-exit-code');\nconst builtins = require('./builtins');\nconst log = require('./debug')('blush:eval');\nconst {PassThrough} = require('stream');\nconst {spawn} = require('child_process');\nconst fs = require('fs');\n\n$.evaluate = async function (node, ctx={})\n{\n  if (node instanceof Array) {\n    for (let node of node) {\n      await $.evaluate(node);\n    }\n  }\n\n  if (!node || !(node.type in $)) {\n    return log('node type \\'%s\\' not implemented', node && node.type || node);\n  }\n\n return await $[node.type](node, ctx);\n}\n\n$.program = async function (node, ctx)\n{\n  log('evaluate program');\n  const {body} = node;\n  return body && await $.evaluate(body, ctx);\n}\n\n$.list = async function (node, ctx)\n{\n  log('evaluate list');\n  const {commands} = node;\n  const {pipe_stdin, pipe_stdout} = ctx;\n\n  let exitCode = 0;\n\n  for (let i=0, ii=commands.length; i<ii; i++) {\n    const cmd = commands[i];\n    const cmd_ctx = {};\n    const modifier = cmd.modifier && await $.evaluate(cmd.modifier);\n\n    log('modifier: %s; exit-code: %d', modifier, exitCode);\n    if (modifier == 'and' && !!exitCode) {\n      continue;\n    }\n    if (modifier == 'or' && !exitCode) {\n      continue;\n    }\n\n    if (pipe_stdin) {\n      cmd_ctx.pipe_stdin = pipe_stdin;\n    }\n\n    if (pipe_stdout) {\n      cmd_ctx.pipe_stdout = new PassThrough;\n      cmd_ctx.pipe_stdout\n      .on('data', (data) => {\n        pipe_stdout.write(data);\n      })\n      .on('error', (err) => {\n      })\n    }\n\n    try {\n      await $.evaluate(cmd, cmd_ctx);\n      exitCode = 0;\n    }\n    catch (err) {\n      log('command errored');\n      exitCode = err;\n      // throw err;\n    }\n  }\n\n  if (pipe_stdout) {\n    pipe_stdout.end();\n  }\n\n  if (exitCode !== 0) {\n    throw exitCode;\n  }\n}\n\nconst NS_PER_SEC = 1e9;\nconst US_PER_SEC = 1e6;\nconst MS_PER_SEC = 1e3;\n\n$.pipeline = async function (node, ctx)\n{\n  log('evaluate pipeline');\n\n  const promises = [];\n  const {commands, time, negate} = node;\n  const {pipe_stdin, pipe_stdout, redir} = ctx;\n\n  let exitCode = 0;\n  let stream = null;\n\n  let start;\n  if (time) {\n    start = process.hrtime();\n  }\n\n  for (let i=0, ii=commands.length; i<ii; i++) {\n    const cmd_ctx = {};\n    const cmd = commands[i];\n\n    if (i == 0) cmd_ctx.pipe_stdin = pipe_stdin;\n    else cmd_ctx.pipe_stdin = stream;\n\n    if (i == ii-1) cmd_ctx.pipe_stdout = pipe_stdout;\n    else cmd_ctx.pipe_stdout = stream = new PassThrough;\n\n    cmd_ctx.redir = redir;\n\n    promises.push($.evaluate(cmd, cmd_ctx));\n  }\n\n  try {\n    await Promise.all(promises);\n    if (negate) {\n      exitCode = 1;\n    }\n  }\n  catch (err) {\n    if (negate) {\n      exitCode = 0;\n    }\n    else {\n      exitCode = parseExitCode(err);\n    }\n  }\n\n  if (time) {\n    const d = process.hrtime(start);\n    let time = d[0] * NS_PER_SEC + d[1];\n    let unit = 'ns';\n    if (time > NS_PER_SEC) {\n      time /= NS_PER_SEC;\n      unit = 's';\n    }\n    else if (time > NS_PER_SEC/MS_PER_SEC) {\n      time /= NS_PER_SEC/MS_PER_SEC;\n      unit = 'ms';\n    }\n    else if (time > NS_PER_SEC/US_PER_SEC) {\n      time /= NS_PER_SEC/US_PER_SEC;\n      unit = 'us';\n    }\n    console.log(`${time.toFixed(2)}${unit}`);\n  }\n\n  if (exitCode !== 0) {\n    throw exitCode;\n  }\n}\n\n/**\n * TODO: restore stdin if not consumed\n */\n$.simple_cmd = async function (node, ctx)\n{\n  let name = $.word(node.name);\n  let args = node.args.map($.word);\n\n  log('evaluate simple_cmd \"%s\"', name);\n\n  const stdio = [0,1,2];\n\n  if (ctx.pipe_stdin) {\n    log('pipe into \"%s\"', name);\n    stdio[0] = 'pipe';\n  }\n\n  if (ctx.pipe_stdout) {\n    log('pipe out of \"%s\"', name);\n    stdio[1] = 'pipe';\n  }\n\n  const redirs = {};\n  for (let r of node.redir) {\n    const {io, stream} = await $.evaluate(r);\n    stdio[io] = 'pipe';\n    redirs[io] = redirs[io] || [];\n    redirs[io].push(stream);\n  }\n\n  await new Promise((res, rej) => {\n    let proc;\n    let alias = builtins.alias.getAlias(name);\n    if (alias) {\n      let [aliasName, ...aliasArgs] = alias.split(' ');\n      name = aliasName;\n      args = [...aliasArgs, ...args];\n    }\n    if (name in builtins) {\n      proc = new builtins[name](name, args, {stdio});\n    }\n    else {\n      const cmdpath = locateCommand(name);\n      if (!cmdpath) {\n        process.stderr.write(`blush: command not found: ${name}\\n`);\n        return rej(127);\n      }\n      proc = spawn(cmdpath, args, {stdio});\n    }\n\n    if (ctx.pipe_stdin) {\n      if (ctx.pipe_stdin.readable) {\n        ctx.pipe_stdin\n        .on('data', (data) => {\n          if (proc.stdin.writable) {\n            proc.stdin.write(data);\n          }\n        })\n        .on('end', () => {\n          proc.stdin.end();\n        })\n        .on('error', (err) => {\n          rej(err);\n        })\n\n        proc.stdin\n        .on('error', (err) => {\n          rej(err);\n        })\n      }\n      else {\n        proc.stdin.end();\n      }\n    }\n\n    for (let io in redirs) {\n      proc.stdio[io]\n      .on('data', (data) => {\n        for (let stream of redirs[io]) {\n          stream.write(data);\n        }\n      })\n      .on('end', () => {\n        for (let stream of redirs[io]) {\n          stream.end();\n        }\n      });\n      // proc.stdio[io].pipe(redirs[io]);\n    }\n\n    if (ctx.pipe_stdout) {\n      proc.stdout\n      .on('data', (data) => {\n        ctx.pipe_stdout.write(data);\n      })\n      .on('end', () => {\n        ctx.pipe_stdout.end();\n      })\n      .on('error', (err) => {\n        rej(err);\n      })\n    }\n\n    proc\n    .on('exit', (code, signal) => {\n      log('exit \"%s\"', name);\n      if (code || signal) return rej(code || signal);\n      res();\n    })\n    .on('error', (err) => {\n      rej(err);\n    })\n  });\n\n  log('evaluate simple_cmd');\n}\n\n$.group_cmd = async function (node, ctx)\n{\n  return await $.evaluate(node.list, ctx);\n}\n\n$.redir_ofile = async function (node, ctx)\n{\n  const fname = $.word(node.fname);\n  return {io: node.io, stream: fs.createWriteStream(fname)};\n}\n\n$.assign = async function (node, ctx)\n{\n  const {name, value} = node;\n  if (value) {\n    process.env[name] = $.word(value);\n  }\n  else {\n    delete process.env[name];\n  }\n}\n\n$.AND = function (node, ctx)\n{\n  return 'and';\n}\n\n$.OR = function (node, ctx)\n{\n  return 'or';\n}\n\n$.word = require('./word').evaluate;\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/eval.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 97,
    "kind": "variable",
    "name": "$",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~$",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 98,
    "kind": "variable",
    "name": "locateCommand",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~locateCommand",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 99,
    "kind": "variable",
    "name": "parseExitCode",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~parseExitCode",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 100,
    "kind": "variable",
    "name": "builtins",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~builtins",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 101,
    "kind": "variable",
    "name": "log",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~log",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 5,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 102,
    "kind": "variable",
    "name": "PassThrough",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~PassThrough",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 103,
    "kind": "variable",
    "name": "spawn",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~spawn",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 104,
    "kind": "variable",
    "name": "fs",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~fs",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 105,
    "kind": "function",
    "name": "evaluate",
    "memberof": "src/eval.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/eval.js~evaluate",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 10,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "optional": true,
        "types": [
          "{}"
        ],
        "defaultRaw": {},
        "defaultValue": "{}"
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 106,
    "kind": "function",
    "name": "program",
    "memberof": "src/eval.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/eval.js~program",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 25,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 107,
    "kind": "function",
    "name": "list",
    "memberof": "src/eval.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/eval.js~list",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 108,
    "kind": "variable",
    "name": "NS_PER_SEC",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~NS_PER_SEC",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 87,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 109,
    "kind": "variable",
    "name": "US_PER_SEC",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~US_PER_SEC",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 88,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 110,
    "kind": "variable",
    "name": "MS_PER_SEC",
    "memberof": "src/eval.js",
    "static": true,
    "longname": "src/eval.js~MS_PER_SEC",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 89,
    "undocument": true,
    "type": {
      "types": [
        "number"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 111,
    "kind": "function",
    "name": "pipeline",
    "memberof": "src/eval.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/eval.js~pipeline",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 91,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 112,
    "kind": "function",
    "name": "simple_cmd",
    "memberof": "src/eval.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/eval.js~simple_cmd",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": "TODO: restore stdin if not consumed",
    "lineNumber": 164,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 113,
    "kind": "function",
    "name": "group_cmd",
    "memberof": "src/eval.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/eval.js~group_cmd",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 278,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 114,
    "kind": "function",
    "name": "redir_ofile",
    "memberof": "src/eval.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/eval.js~redir_ofile",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 283,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "{\"io\": *, \"stream\": *}"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 115,
    "kind": "function",
    "name": "assign",
    "memberof": "src/eval.js",
    "generator": false,
    "async": true,
    "static": true,
    "longname": "src/eval.js~assign",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 289,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": null,
    "ignore": true
  },
  {
    "__docId__": 116,
    "kind": "function",
    "name": "AND",
    "memberof": "src/eval.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/eval.js~AND",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 300,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 117,
    "kind": "function",
    "name": "OR",
    "memberof": "src/eval.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/eval.js~OR",
    "access": "public",
    "export": false,
    "importPath": "blush/src/eval.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 305,
    "undocument": true,
    "params": [
      {
        "name": "node",
        "types": [
          "*"
        ]
      },
      {
        "name": "ctx",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "string"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 118,
    "kind": "file",
    "name": "src/index.js",
    "content": "#!/usr/bin/env node\n\nconst args = process.argv.slice(2);\n\n// TODO: Parse options.\n\nconst REPL = require('./repl');\nconst repl = new REPL();\nrepl.start();\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/index.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 119,
    "kind": "variable",
    "name": "args",
    "memberof": "src/index.js",
    "static": true,
    "longname": "src/index.js~args",
    "access": "public",
    "export": false,
    "importPath": "blush/src/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 120,
    "kind": "variable",
    "name": "REPL",
    "memberof": "src/index.js",
    "static": true,
    "longname": "src/index.js~REPL",
    "access": "public",
    "export": false,
    "importPath": "blush/src/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 121,
    "kind": "variable",
    "name": "repl",
    "memberof": "src/index.js",
    "static": true,
    "longname": "src/index.js~repl",
    "access": "public",
    "export": false,
    "importPath": "blush/src/index.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 8,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 122,
    "kind": "file",
    "name": "src/interp.js",
    "content": "exports.env = function env (str, map)\n{\n  while (/\\$\\w/.test(str)) {\n    str = str.replace(/\\$\\w+/, (match) => {\n      return (map[match.slice(1)] || '');\n    });\n  }\n  return str;\n}\n\nexports.args = function args (str, arr)\n{\n  return str.replace(/\\$\\d+/, (match) => {\n    return arr[Number(match.slice(1))] || '';\n  }).replace(/\\$@/, (match) => {\n    return arr.slice(1).join(' ');\n  });\n}\n\nexports.glob = function glob (str)\n{\n  const glob = require('glob');\n  return glob.hasMagic(str) ? glob.sync(str) : str;\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/interp.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 123,
    "kind": "function",
    "name": "env",
    "memberof": "src/interp.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/interp.js~env",
    "access": "public",
    "export": true,
    "importPath": "blush/src/interp.js",
    "importStyle": "{env}",
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "params": [
      {
        "name": "str",
        "types": [
          "*"
        ]
      },
      {
        "name": "map",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 124,
    "kind": "function",
    "name": "args",
    "memberof": "src/interp.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/interp.js~args",
    "access": "public",
    "export": true,
    "importPath": "blush/src/interp.js",
    "importStyle": "{args}",
    "description": null,
    "lineNumber": 11,
    "undocument": true,
    "params": [
      {
        "name": "str",
        "types": [
          "*"
        ]
      },
      {
        "name": "arr",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 125,
    "kind": "function",
    "name": "glob",
    "memberof": "src/interp.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/interp.js~glob",
    "access": "public",
    "export": true,
    "importPath": "blush/src/interp.js",
    "importStyle": "{glob}",
    "description": null,
    "lineNumber": 20,
    "undocument": true,
    "params": [
      {
        "name": "str",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 126,
    "kind": "file",
    "name": "src/unit.js",
    "content": "class Unit\n{\n  constructor ()\n  {}\n}\n\nclass Command extends Unit\n{\n  constructor ({\n    pipe_stdin = false,\n    pipe_stdout = false,\n    redir = [],\n    ...ctx,\n  })\n  {\n    super(ctx);\n    this.pipe_stdin = pipe_stdin;\n    this.pipe_stdout = pipe_stdout;\n    this.redir = redir;\n  }\n}\n\nclass SimpleCommand extends Command\n{\n  constructor ({\n    name,\n    args = [],\n    params = {},\n    ...ctx,\n  })\n  {\n    super(ctx);\n    this.name = name;\n    this.args = args;\n    this.params = params;\n  }\n}\n\nclass GroupCommand extends GroupCommand\n{\n  constructor ({\n    commands = [],\n    ...ctx\n  })\n  {\n    super(ctx);\n    this.commands = commands;\n  }\n}\n\nclass Pipeline extends Unit\n{\n  constructor ({\n    commands = [],\n    ...ctx,\n  })\n  {\n    super(ctx);\n    this.commands = commands;\n  }\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/unit.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 127,
    "kind": "class",
    "name": "Unit",
    "memberof": "src/unit.js",
    "static": true,
    "longname": "src/unit.js~Unit",
    "access": "public",
    "export": false,
    "importPath": "blush/src/unit.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "interface": false,
    "ignore": true
  },
  {
    "__docId__": 128,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/unit.js~Unit",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/unit.js~Unit#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 3,
    "undocument": true
  },
  {
    "__docId__": 129,
    "kind": "class",
    "name": "Command",
    "memberof": "src/unit.js",
    "static": true,
    "longname": "src/unit.js~Command",
    "access": "public",
    "export": false,
    "importPath": "blush/src/unit.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 7,
    "undocument": true,
    "interface": false,
    "extends": [
      "Unit"
    ],
    "ignore": true
  },
  {
    "__docId__": 130,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/unit.js~Command",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/unit.js~Command#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 9,
    "undocument": true
  },
  {
    "__docId__": 131,
    "kind": "member",
    "name": "pipe_stdin",
    "memberof": "src/unit.js~Command",
    "static": false,
    "longname": "src/unit.js~Command#pipe_stdin",
    "access": "public",
    "description": null,
    "lineNumber": 17,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 132,
    "kind": "member",
    "name": "pipe_stdout",
    "memberof": "src/unit.js~Command",
    "static": false,
    "longname": "src/unit.js~Command#pipe_stdout",
    "access": "public",
    "description": null,
    "lineNumber": 18,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 133,
    "kind": "member",
    "name": "redir",
    "memberof": "src/unit.js~Command",
    "static": false,
    "longname": "src/unit.js~Command#redir",
    "access": "public",
    "description": null,
    "lineNumber": 19,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 134,
    "kind": "class",
    "name": "SimpleCommand",
    "memberof": "src/unit.js",
    "static": true,
    "longname": "src/unit.js~SimpleCommand",
    "access": "public",
    "export": false,
    "importPath": "blush/src/unit.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 23,
    "undocument": true,
    "interface": false,
    "extends": [
      "Command"
    ],
    "ignore": true
  },
  {
    "__docId__": 135,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/unit.js~SimpleCommand",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/unit.js~SimpleCommand#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 25,
    "undocument": true
  },
  {
    "__docId__": 136,
    "kind": "member",
    "name": "name",
    "memberof": "src/unit.js~SimpleCommand",
    "static": false,
    "longname": "src/unit.js~SimpleCommand#name",
    "access": "public",
    "description": null,
    "lineNumber": 33,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 137,
    "kind": "member",
    "name": "args",
    "memberof": "src/unit.js~SimpleCommand",
    "static": false,
    "longname": "src/unit.js~SimpleCommand#args",
    "access": "public",
    "description": null,
    "lineNumber": 34,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 138,
    "kind": "member",
    "name": "params",
    "memberof": "src/unit.js~SimpleCommand",
    "static": false,
    "longname": "src/unit.js~SimpleCommand#params",
    "access": "public",
    "description": null,
    "lineNumber": 35,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 139,
    "kind": "class",
    "name": "GroupCommand",
    "memberof": "src/unit.js",
    "static": true,
    "longname": "src/unit.js~GroupCommand",
    "access": "public",
    "export": false,
    "importPath": "blush/src/unit.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "interface": false,
    "extends": [
      "GroupCommand"
    ],
    "ignore": true
  },
  {
    "__docId__": 140,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/unit.js~GroupCommand",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/unit.js~GroupCommand#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 41,
    "undocument": true
  },
  {
    "__docId__": 141,
    "kind": "member",
    "name": "commands",
    "memberof": "src/unit.js~GroupCommand",
    "static": false,
    "longname": "src/unit.js~GroupCommand#commands",
    "access": "public",
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 142,
    "kind": "class",
    "name": "Pipeline",
    "memberof": "src/unit.js",
    "static": true,
    "longname": "src/unit.js~Pipeline",
    "access": "public",
    "export": false,
    "importPath": "blush/src/unit.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 51,
    "undocument": true,
    "interface": false,
    "extends": [
      "Unit"
    ],
    "ignore": true
  },
  {
    "__docId__": 143,
    "kind": "constructor",
    "name": "constructor",
    "memberof": "src/unit.js~Pipeline",
    "generator": false,
    "async": false,
    "static": false,
    "longname": "src/unit.js~Pipeline#constructor",
    "access": "public",
    "description": null,
    "lineNumber": 53,
    "undocument": true
  },
  {
    "__docId__": 144,
    "kind": "member",
    "name": "commands",
    "memberof": "src/unit.js~Pipeline",
    "static": false,
    "longname": "src/unit.js~Pipeline#commands",
    "access": "public",
    "description": null,
    "lineNumber": 59,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 145,
    "kind": "file",
    "name": "src/utils/locate-command.js",
    "content": "const glob = require('glob');\nconst path = require('path');\n\nmodule.exports = function locateCommand (name)\n{\n  const paths = process.env.PATH.split(path.delimiter);\n  const pattern = '{'+paths.map((p) => path.join(p, name)).join(',')+'}';\n  const result = glob.sync(pattern);\n  return result[0];\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/utils/locate-command.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 146,
    "kind": "variable",
    "name": "glob",
    "memberof": "src/utils/locate-command.js",
    "static": true,
    "longname": "src/utils/locate-command.js~glob",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/locate-command.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 147,
    "kind": "variable",
    "name": "path",
    "memberof": "src/utils/locate-command.js",
    "static": true,
    "longname": "src/utils/locate-command.js~path",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/locate-command.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 148,
    "kind": "function",
    "name": "locateCommand",
    "memberof": "src/utils/locate-command.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/locate-command.js~locateCommand",
    "access": "public",
    "export": true,
    "importPath": "blush/src/utils/locate-command.js",
    "importStyle": "locateCommand",
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "params": [
      {
        "name": "name",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 149,
    "kind": "file",
    "name": "src/utils/parse-exit-code.js",
    "content": "const os = require('os');\n\nmodule.exports = function parseExitCode (err)\n{\n  if (!isNaN(err)) {\n    return err;\n  }\n  else if (typeof err === 'string') {\n    const code = os.constants.signals[err] + 128;\n    return code;\n  }\n  else if (err.errno) {\n    let code = err.errno;\n    if (typeof code === 'string') {\n      code = os.constants.errno[code];\n    }\n    return code;\n  }\n  return -1;\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/utils/parse-exit-code.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 150,
    "kind": "variable",
    "name": "os",
    "memberof": "src/utils/parse-exit-code.js",
    "static": true,
    "longname": "src/utils/parse-exit-code.js~os",
    "access": "public",
    "export": false,
    "importPath": "blush/src/utils/parse-exit-code.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 151,
    "kind": "function",
    "name": "parseExitCode",
    "memberof": "src/utils/parse-exit-code.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/utils/parse-exit-code.js~parseExitCode",
    "access": "public",
    "export": true,
    "importPath": "blush/src/utils/parse-exit-code.js",
    "importStyle": "parseExitCode",
    "description": null,
    "lineNumber": 3,
    "undocument": true,
    "params": [
      {
        "name": "err",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    }
  },
  {
    "__docId__": 152,
    "kind": "file",
    "name": "src/word.js",
    "content": "const log = require('debug')('blush:word');\nconst os = require('os');\n\nconst $ = exports;\n\n$.evaluate = function evaluate (word)\n{\n  const type = word.type.toLowerCase();\n  if (!(type in $)) {\n    return log('node type \\'%s\\' not implemented', node.type);\n  }\n  return $.expand($[type](word));\n}\n\n$.word = function word (word)\n{\n  return word.value;\n}\n\n$.dstr =\n$.sstr =\n$.estr = function string (word)\n{\n  return word.value;\n}\n\n$.loose_word = function loose_word (word)\n{\n  return word.parts.reduce((a, w) => a += $.evaluate(w), '');\n}\n\n$.expand = function (str)\n{\n  str = $.expand_tilde(str);\n  str = $.expand_env(str);\n  return str;\n}\n\n$.expand_env = function (str)\n{\n  return str.replace(/\\$[a-zA-Z_][a-zA-Z0-9_]*/g, (match) => {\n    const name = match.slice(1);\n    return process.env[name] || '';\n  });\n}\n\n$.expand_tilde = function (str)\n{\n  return str.replace(/^~/, os.homedir());\n}\n",
    "static": true,
    "longname": "/mnt/fast/Projects/blush/src/word.js",
    "access": "public",
    "description": null,
    "lineNumber": 1
  },
  {
    "__docId__": 153,
    "kind": "variable",
    "name": "log",
    "memberof": "src/word.js",
    "static": true,
    "longname": "src/word.js~log",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 1,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 154,
    "kind": "variable",
    "name": "os",
    "memberof": "src/word.js",
    "static": true,
    "longname": "src/word.js~os",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 2,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 155,
    "kind": "variable",
    "name": "$",
    "memberof": "src/word.js",
    "static": true,
    "longname": "src/word.js~$",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 4,
    "undocument": true,
    "type": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 156,
    "kind": "function",
    "name": "evaluate",
    "memberof": "src/word.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/word.js~evaluate",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 6,
    "undocument": true,
    "params": [
      {
        "name": "word",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 157,
    "kind": "function",
    "name": "word",
    "memberof": "src/word.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/word.js~word",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 15,
    "undocument": true,
    "params": [
      {
        "name": "word",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 158,
    "kind": "function",
    "name": "loose_word",
    "memberof": "src/word.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/word.js~loose_word",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 27,
    "undocument": true,
    "params": [
      {
        "name": "word",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 159,
    "kind": "function",
    "name": "expand",
    "memberof": "src/word.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/word.js~expand",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 32,
    "undocument": true,
    "params": [
      {
        "name": "str",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 160,
    "kind": "function",
    "name": "expand_env",
    "memberof": "src/word.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/word.js~expand_env",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 39,
    "undocument": true,
    "params": [
      {
        "name": "str",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "__docId__": 161,
    "kind": "function",
    "name": "expand_tilde",
    "memberof": "src/word.js",
    "generator": false,
    "async": false,
    "static": true,
    "longname": "src/word.js~expand_tilde",
    "access": "public",
    "export": false,
    "importPath": "blush/src/word.js",
    "importStyle": null,
    "description": null,
    "lineNumber": 47,
    "undocument": true,
    "params": [
      {
        "name": "str",
        "types": [
          "*"
        ]
      }
    ],
    "return": {
      "types": [
        "*"
      ]
    },
    "ignore": true
  },
  {
    "kind": "index",
    "content": "# Blush\n",
    "longname": "/mnt/fast/Projects/blush/README.md",
    "name": "./README.md",
    "static": true,
    "access": "public"
  },
  {
    "kind": "packageJSON",
    "content": "{\n  \"name\": \"blush\",\n  \"version\": \"0.0.0\",\n  \"description\": \"Basic little universal shell\",\n  \"license\": \"MIT\",\n  \"author\": \"Aaron Levine <ald.levine@gmail.com>\",\n  \"bin\": {\n    \"blush\": \"src/index.js\"\n  },\n  \"scripts\": {\n    \"build\": \"ez build\",\n    \"precommit\": \"ez precommit\",\n    \"commitmsg\": \"ez commitmsg\",\n    \"docs\": \"ez docs\",\n    \"link\": \"ez link\",\n    \"test\": \"ez test\",\n    \"update\": \"ez update\",\n    \"version\": \"ez version\"\n  },\n  \"config\": {\n    \"commitizen\": {\n      \"path\": \"./node_modules/cz-conventional-changelog\"\n    }\n  },\n  \"dependencies\": {\n    \"chalk\": \"^2.3.0\",\n    \"debug\": \"^3.1.0\",\n    \"glob\": \"^7.1.2\",\n    \"nearley\": \"^2.11.0\"\n  },\n  \"devDependencies\": {\n    \"@commitlint/cli\": \"^4.3.0\",\n    \"@commitlint/config-angular\": \"^4.3.0\",\n    \"chai\": \"^4.1.2\",\n    \"comptroller\": \"^0.3.0\",\n    \"conventional-changelog-cli\": \"^1.3.4\",\n    \"cz-conventional-changelog\": \"^2.1.0\",\n    \"esdoc\": \"^1.0.4\",\n    \"esdoc-ecmascript-proposal-plugin\": \"^1.0.0\",\n    \"esdoc-node\": \"^1.0.2\",\n    \"esdoc-standard-plugin\": \"^1.0.0\",\n    \"husky\": \"^0.14.3\",\n    \"jison\": \"^0.4.18\",\n    \"jison-gho\": \"^0.6.1-209\",\n    \"js-beautify\": \"^1.7.4\",\n    \"mocha\": \"^4.0.1\",\n    \"moo\": \"^0.4.3\",\n    \"nyc\": \"^11.3.0\",\n    \"scripteasy\": \"0.0.5\",\n    \"slashes\": \"^1.0.5\",\n    \"unescape-js\": \"^1.1.0\"\n  },\n  \"comptroller\": {\n    \"source\": \"src/**/*.js\",\n    \"dev\": \"test/**/*\",\n    \"pretty\": 80,\n    \"detective\": {\n      \"parse\": {\n        \"plugins\": [\n          \"objectRestSpread\"\n        ]\n      }\n    },\n    \"ignore\": [\n      \"slashes\",\n      \"unescape-js\"\n    ]\n  },\n  \"scripteasy\": \"scripts.yml\"\n}\n",
    "longname": "/mnt/fast/Projects/blush/package.json",
    "name": "package.json",
    "static": true,
    "access": "public"
  }
]